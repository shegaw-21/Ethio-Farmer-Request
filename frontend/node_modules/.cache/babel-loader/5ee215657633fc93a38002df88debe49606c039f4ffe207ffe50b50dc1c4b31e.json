{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from './api';\nimport FarmerDashboard from './dashboards/FarmerDashboard';\nimport KebeleDashboard from './dashboards/KebeleDashboard';\nimport WoredaDashboard from './dashboards/WoredaDashboard';\nimport ZoneDashboard from './dashboards/ZoneDashboard';\nimport RegionDashboard from './dashboards/RegionDashboard';\nimport FederalDashboard from './dashboards/FederalDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [requests, setRequests] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [currentPage, setCurrentPage] = useState('dashboard');\n  useEffect(() => {\n    if (currentUser) {\n      fetchRequests();\n      fetchProducts();\n    }\n  }, [currentUser]);\n  const handleLogin = async credentials => {\n    try {\n      const response = await api.login(credentials);\n      setCurrentUser(response.data.user);\n      setCurrentPage('dashboard');\n    } catch (err) {\n      alert('Login failed: ' + (err.response && err.response.data ? err.response.data.message : err.message));\n    }\n  };\n  const fetchRequests = async () => {\n    const response = await api.getRequests();\n    setRequests(response.data);\n  };\n  const fetchProducts = async () => {\n    const response = await api.getProducts();\n    setProducts(response.data);\n  };\n  const handleProductRequest = async productId => {\n    try {\n      await api.createRequest({\n        productId,\n        userId: currentUser.id\n      });\n      fetchRequests();\n    } catch (err) {\n      alert('Request failed: ' + err.message);\n    }\n  };\n  const handleApproveRequest = async id => {\n    try {\n      await api.approveRequest(id);\n      fetchRequests();\n    } catch (err) {\n      alert('Approve failed: ' + err.message);\n    }\n  };\n  const renderDashboard = () => {\n    if (!currentUser) return null;\n    const filteredRequests = requests.filter(req => req.userId === currentUser.id);\n    switch (currentUser.role) {\n      case 'Federal':\n        return /*#__PURE__*/_jsxDEV(FederalDashboard, {\n          currentUser: currentUser,\n          requests: filteredRequests,\n          onApprove: handleApproveRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 24\n        }, this);\n      case 'Region':\n        return /*#__PURE__*/_jsxDEV(RegionDashboard, {\n          currentUser: currentUser,\n          requests: filteredRequests,\n          onApprove: handleApproveRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 24\n        }, this);\n      case 'Zone':\n        return /*#__PURE__*/_jsxDEV(ZoneDashboard, {\n          currentUser: currentUser,\n          requests: filteredRequests,\n          onApprove: handleApproveRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 24\n        }, this);\n      case 'Woreda':\n        return /*#__PURE__*/_jsxDEV(WoredaDashboard, {\n          currentUser: currentUser,\n          requests: filteredRequests,\n          onApprove: handleApproveRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 24\n        }, this);\n      case 'Kebele':\n        return /*#__PURE__*/_jsxDEV(KebeleDashboard, {\n          currentUser: currentUser,\n          requests: filteredRequests,\n          onApprove: handleApproveRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 24\n        }, this);\n      case 'Farmer':\n        return /*#__PURE__*/_jsxDEV(FarmerDashboard, {\n          currentUser: currentUser,\n          products: products,\n          requests: filteredRequests,\n          onRequest: handleProductRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 26\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" Unknown role \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", !currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Login \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleLogin({\n          username: 'farmer',\n          password: '1234'\n        }),\n        children: \" Login as Farmer \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 35\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }, this) : renderDashboard(), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 14\n  }, this);\n}\n_s(App, \"nDZ+6umpEgZ5Z1dh6qZcpDtyBIw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","api","FarmerDashboard","KebeleDashboard","WoredaDashboard","ZoneDashboard","RegionDashboard","FederalDashboard","jsxDEV","_jsxDEV","App","_s","currentUser","setCurrentUser","requests","setRequests","products","setProducts","currentPage","setCurrentPage","fetchRequests","fetchProducts","handleLogin","credentials","response","login","data","user","err","alert","message","getRequests","getProducts","handleProductRequest","productId","createRequest","userId","id","handleApproveRequest","approveRequest","renderDashboard","filteredRequests","filter","req","role","onApprove","fileName","_jsxFileName","lineNumber","columnNumber","onRequest","children","onClick","username","password","_c","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from './api';\r\nimport FarmerDashboard from './dashboards/FarmerDashboard';\r\nimport KebeleDashboard from './dashboards/KebeleDashboard';\r\nimport WoredaDashboard from './dashboards/WoredaDashboard';\r\nimport ZoneDashboard from './dashboards/ZoneDashboard';\r\nimport RegionDashboard from './dashboards/RegionDashboard';\r\nimport FederalDashboard from './dashboards/FederalDashboard';\r\n\r\nfunction App() {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [requests, setRequests] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState('dashboard');\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            fetchRequests();\r\n            fetchProducts();\r\n        }\r\n    }, [currentUser]);\r\n\r\n    const handleLogin = async(credentials) => {\r\n        try {\r\n            const response = await api.login(credentials);\r\n            setCurrentUser(response.data.user);\r\n            setCurrentPage('dashboard');\r\n        } catch (err) {\r\n            alert('Login failed: ' + (err.response && err.response.data ? err.response.data.message : err.message));\r\n        }\r\n    };\r\n\r\n    const fetchRequests = async() => {\r\n        const response = await api.getRequests();\r\n        setRequests(response.data);\r\n    };\r\n\r\n    const fetchProducts = async() => {\r\n        const response = await api.getProducts();\r\n        setProducts(response.data);\r\n    };\r\n\r\n    const handleProductRequest = async(productId) => {\r\n        try {\r\n            await api.createRequest({ productId, userId: currentUser.id });\r\n            fetchRequests();\r\n        } catch (err) {\r\n            alert('Request failed: ' + err.message);\r\n        }\r\n    };\r\n\r\n    const handleApproveRequest = async(id) => {\r\n        try {\r\n            await api.approveRequest(id);\r\n            fetchRequests();\r\n        } catch (err) {\r\n            alert('Approve failed: ' + err.message);\r\n        }\r\n    };\r\n\r\n    const renderDashboard = () => {\r\n        if (!currentUser) return null;\r\n\r\n        const filteredRequests = requests.filter(req => req.userId === currentUser.id);\r\n\r\n        switch (currentUser.role) {\r\n            case 'Federal':\r\n                return <FederalDashboard currentUser = { currentUser }\r\n                requests = { filteredRequests }\r\n                onApprove = { handleApproveRequest }\r\n                />;\r\n            case 'Region':\r\n                return <RegionDashboard currentUser = { currentUser }\r\n                requests = { filteredRequests }\r\n                onApprove = { handleApproveRequest }\r\n                />;\r\n            case 'Zone':\r\n                return <ZoneDashboard currentUser = { currentUser }\r\n                requests = { filteredRequests }\r\n                onApprove = { handleApproveRequest }\r\n                />;\r\n            case 'Woreda':\r\n                return <WoredaDashboard currentUser = { currentUser }\r\n                requests = { filteredRequests }\r\n                onApprove = { handleApproveRequest }\r\n                />;\r\n            case 'Kebele':\r\n                return <KebeleDashboard currentUser = { currentUser }\r\n                requests = { filteredRequests }\r\n                onApprove = { handleApproveRequest }\r\n                />;\r\n            case 'Farmer':\r\n                return ( <\r\n                    FarmerDashboard currentUser = { currentUser }\r\n                    products = { products }\r\n                    requests = { filteredRequests }\r\n                    onRequest = { handleProductRequest }\r\n                    />\r\n                );\r\n            default:\r\n                return <div > Unknown role < /div>;\r\n        }\r\n    };\r\n\r\n    return ( <\r\n        div > {!currentUser ? ( <\r\n                div >\r\n                <\r\n                h2 > Login < /h2> <\r\n                button onClick = {\r\n                    () => handleLogin({ username: 'farmer', password: '1234' }) } > Login as Farmer < /button> <\r\n                /div>\r\n            ) : (\r\n                renderDashboard()\r\n            )\r\n        } <\r\n        /div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}