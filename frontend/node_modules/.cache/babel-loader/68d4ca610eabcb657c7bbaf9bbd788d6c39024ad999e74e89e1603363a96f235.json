{"ast":null,"code":"// src/api.js\nexport async function api(path, {\n  method = 'GET',\n  body\n} = {}) {\n  const token = localStorage.getItem('token');\n  const res = await fetch(`${process.env.REACT_APP_API_BASE || ''}${path}`, {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token ? {\n        Authorization: `Bearer ${token}`\n      } : {})\n    },\n    body: body ? JSON.stringify(body) : undefined\n  });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text || res.statusText);\n  }\n  return res.json();\n}","map":{"version":3,"names":["api","path","method","body","token","localStorage","getItem","res","fetch","process","env","REACT_APP_API_BASE","headers","Authorization","JSON","stringify","undefined","ok","text","Error","statusText","json"],"sources":["D:/FARMERS/frontend/src/api.js"],"sourcesContent":["// src/api.js\r\nexport async function api(path, { method = 'GET', body } = {}) {\r\n    const token = localStorage.getItem('token');\r\n    const res = await fetch(`${process.env.REACT_APP_API_BASE || ''}${path}`, {\r\n        method,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...(token ? { Authorization: `Bearer ${token}` } : {})\r\n        },\r\n        body: body ? JSON.stringify(body) : undefined\r\n    });\r\n    if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(text || res.statusText);\r\n    }\r\n    return res.json();\r\n}"],"mappings":"AAAA;AACA,OAAO,eAAeA,GAAGA,CAACC,IAAI,EAAE;EAAEC,MAAM,GAAG,KAAK;EAAEC;AAAK,CAAC,GAAG,CAAC,CAAC,EAAE;EAC3D,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,EAAE,GAAGV,IAAI,EAAE,EAAE;IACtEC,MAAM;IACNU,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,IAAIR,KAAK,GAAG;QAAES,aAAa,EAAE,UAAUT,KAAK;MAAG,CAAC,GAAG,CAAC,CAAC;IACzD,CAAC;IACDD,IAAI,EAAEA,IAAI,GAAGW,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,GAAGa;EACxC,CAAC,CAAC;EACF,IAAI,CAACT,GAAG,CAACU,EAAE,EAAE;IACT,MAAMC,IAAI,GAAG,MAAMX,GAAG,CAACW,IAAI,CAAC,CAAC;IAC7B,MAAM,IAAIC,KAAK,CAACD,IAAI,IAAIX,GAAG,CAACa,UAAU,CAAC;EAC3C;EACA,OAAOb,GAAG,CAACc,IAAI,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}