{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { api } from './api';\n\n// Import dashboard components\nimport FederalDashboard from './dashboards/FederalDashboard';\nimport RegionDashboard from './dashboards/RegionDashboard';\nimport ZoneDashboard from './dashboards/ZoneDashboard';\nimport WoredaDashboard from './dashboards/WoredaDashboard';\nimport KebeleDashboard from './dashboards/KebeleDashboard';\nimport FarmerDashboard from './dashboards/FarmerDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [currentUser, setCurrentUser] = useState(null); // stores user info after login\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const res = await api.post('/login', {\n        phone,\n        password\n      });\n      setCurrentUser(res.data); // save user info including role\n      setMessage('');\n    } catch (err) {\n      console.log(err);\n      setMessage('Login failed: ' + (err.response ? err.response.data.message : 'Network Error'));\n    }\n  };\n\n  // Render dashboard based on role\n  const renderDashboard = () => {\n    if (!currentUser) return null;\n    switch (currentUser.role) {\n      case 'Federal':\n        return /*#__PURE__*/_jsxDEV(FederalDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 24\n        }, this);\n      case 'Region':\n        return /*#__PURE__*/_jsxDEV(RegionDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 24\n        }, this);\n      case 'Zone':\n        return /*#__PURE__*/_jsxDEV(ZoneDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 24\n        }, this);\n      case 'Woreda':\n        return /*#__PURE__*/_jsxDEV(WoredaDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 24\n        }, this);\n      case 'Kebele':\n        return /*#__PURE__*/_jsxDEV(KebeleDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 24\n        }, this);\n      case 'Farmer':\n        return /*#__PURE__*/_jsxDEV(FarmerDashboard, {\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500\",\n          children: \" Unknown role \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  if (currentUser) {\n    return renderDashboard();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"bg-white p-8 rounded shadow-md w-80\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl mb-4 font-bold text-center\",\n        children: \" Login \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), \" \", message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 mb-2\",\n        children: [\" \", message, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2\",\n        children: \" Phone Number \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: phone,\n        onChange: e => setPhone(e.target.value),\n        className: \"border p-2 mb-4 w-full rounded\",\n        placeholder: \"Enter phone number\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 65\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2\",\n        children: \" Password \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        className: \"border p-2 mb-4 w-full rounded\",\n        placeholder: \"Enter password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 61\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-500 text-white p-2 rounded w-full hover:bg-blue-600\",\n        children: \"Login \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 14\n  }, this);\n}\n_s(App, \"RqqVsREr72tAfPRUCinB0KUuoAM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","api","FederalDashboard","RegionDashboard","ZoneDashboard","WoredaDashboard","KebeleDashboard","FarmerDashboard","jsxDEV","_jsxDEV","App","_s","phone","setPhone","password","setPassword","message","setMessage","currentUser","setCurrentUser","handleLogin","e","preventDefault","res","post","data","err","console","log","response","renderDashboard","role","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onSubmit","type","value","onChange","target","placeholder","required","_c","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n    api\r\n} from './api';\r\n\r\n// Import dashboard components\r\nimport FederalDashboard from './dashboards/FederalDashboard';\r\nimport RegionDashboard from './dashboards/RegionDashboard';\r\nimport ZoneDashboard from './dashboards/ZoneDashboard';\r\nimport WoredaDashboard from './dashboards/WoredaDashboard';\r\nimport KebeleDashboard from './dashboards/KebeleDashboard';\r\nimport FarmerDashboard from './dashboards/FarmerDashboard';\r\n\r\nfunction App() {\r\n    const [phone, setPhone] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [currentUser, setCurrentUser] = useState(null); // stores user info after login\r\n\r\n    const handleLogin = async(e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await api.post('/login', { phone, password });\r\n            setCurrentUser(res.data); // save user info including role\r\n            setMessage('');\r\n        } catch (err) {\r\n            console.log(err);\r\n            setMessage('Login failed: ' + (err.response ? err.response.data.message : 'Network Error'));\r\n        }\r\n    };\r\n\r\n    // Render dashboard based on role\r\n    const renderDashboard = () => {\r\n        if (!currentUser) return null;\r\n\r\n        switch (currentUser.role) {\r\n            case 'Federal':\r\n                return <FederalDashboard currentUser = { currentUser }\r\n                />;\r\n            case 'Region':\r\n                return <RegionDashboard currentUser = { currentUser }\r\n                />;\r\n            case 'Zone':\r\n                return <ZoneDashboard currentUser = { currentUser }\r\n                />;\r\n            case 'Woreda':\r\n                return <WoredaDashboard currentUser = { currentUser }\r\n                />;\r\n            case 'Kebele':\r\n                return <KebeleDashboard currentUser = { currentUser }\r\n                />;\r\n            case 'Farmer':\r\n                return <FarmerDashboard currentUser = { currentUser }\r\n                />;\r\n            default:\r\n                return <div className = \"text-red-500\" > Unknown role < /div>;\r\n        }\r\n    };\r\n\r\n    if (currentUser) {\r\n        return renderDashboard();\r\n    }\r\n\r\n    return ( <\r\n        div className = \"min-h-screen flex items-center justify-center bg-gray-100\" >\r\n        <\r\n        form onSubmit = { handleLogin }\r\n        className = \"bg-white p-8 rounded shadow-md w-80\" >\r\n        <\r\n        h1 className = \"text-2xl mb-4 font-bold text-center\" > Login < /h1> {\r\n        message && < div className = \"text-red-500 mb-2\" > { message } < /div>}\r\n\r\n        <\r\n        label className = \"block mb-2\" > Phone Number < /label> <\r\n        input type = \"text\"\r\n        value = { phone }\r\n        onChange = {\r\n            (e) => setPhone(e.target.value)\r\n        }\r\n        className = \"border p-2 mb-4 w-full rounded\"\r\n        placeholder = \"Enter phone number\"\r\n        required /\r\n        >\r\n\r\n        <\r\n        label className = \"block mb-2\" > Password < /label> <\r\n        input type = \"password\"\r\n        value = { password }\r\n        onChange = {\r\n            (e) => setPassword(e.target.value)\r\n        }\r\n        className = \"border p-2 mb-4 w-full rounded\"\r\n        placeholder = \"Enter password\"\r\n        required /\r\n        >\r\n\r\n        <\r\n        button type = \"submit\"\r\n        className = \"bg-blue-500 text-white p-2 rounded w-full hover:bg-blue-600\" >\r\n        Login <\r\n        /button> < /\r\n        form > <\r\n        /div>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}