{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from './api';\nimport FederalDashboard from './dashboards/FederalDashboard';\nimport RegionDashboard from './dashboards/RegionDashboard';\nimport ZoneDashboard from './dashboards/ZoneDashboard';\nimport WoredaDashboard from './dashboards/WoredaDashboard';\nimport KebeleDashboard from './dashboards/KebeleDashboard';\nimport FarmerDashboard from './dashboards/FarmerDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [currentPage, setCurrentPage] = useState('login');\n  const [requests, setRequests] = useState([]);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    if (currentUser) {\n      fetchData();\n    }\n  }, [currentUser]);\n  const fetchData = async () => {\n    try {\n      const resRequests = await api.getRequests();\n      const resProducts = await api.getProducts();\n      setRequests(resRequests);\n      setProducts(resProducts);\n    } catch (err) {\n      console.error('Fetch error:', err);\n    }\n  };\n  const handleLogin = async credentials => {\n    try {\n      // Login using phone number and password\n      const user = await api.login({\n        phone: credentials.phone,\n        password: credentials.password\n      });\n      setCurrentUser(user);\n      setCurrentPage('dashboard');\n    } catch (err) {\n      alert('Login failed: ' + (err.response && err.response.data && err.response.data.message));\n    }\n  };\n  const renderDashboard = () => {\n    if (!currentUser) return null;\n    switch (currentUser.role) {\n      case 'Federal':\n        return /*#__PURE__*/_jsxDEV(FederalDashboard, {\n          requests: requests,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 24\n        }, this);\n      case 'Region':\n        return /*#__PURE__*/_jsxDEV(RegionDashboard, {\n          requests: requests,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }, this);\n      case 'Zone':\n        return /*#__PURE__*/_jsxDEV(ZoneDashboard, {\n          requests: requests,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 24\n        }, this);\n      case 'Woreda':\n        return /*#__PURE__*/_jsxDEV(WoredaDashboard, {\n          requests: requests,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 24\n        }, this);\n      case 'Kebele':\n        return /*#__PURE__*/_jsxDEV(KebeleDashboard, {\n          requests: requests,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 24\n        }, this);\n      case 'Farmer':\n        return /*#__PURE__*/_jsxDEV(FarmerDashboard, {\n          currentUser: currentUser,\n          products: products,\n          requests: requests\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 24\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [\" \", currentPage === 'login' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 42\n    }, this), \" \", currentPage === 'dashboard' && renderDashboard(), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 14\n  }, this);\n}\n_s(App, \"Zd7Hl84XrHbqyYylanndsH3j04A=\");\n_c = App;\nexport default App;\n\n// LoginForm Component\nfunction LoginForm({\n  onLogin\n}) {\n  _s2();\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const submit = e => {\n    e.preventDefault();\n    onLogin({\n      phone,\n      password\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submit,\n    className: \"bg-white p-8 rounded shadow-md w-96 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-center\",\n      children: \" Login \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Phone Number\",\n      value: phone,\n      onChange: e => setPhone(e.target.value),\n      className: \"w-full border border-gray-300 p-2 rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 72\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      className: \"w-full border border-gray-300 p-2 rounded\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",\n      children: \"Login \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 14\n  }, this);\n}\n_s2(LoginForm, \"p7oLpqyrlSGJBrWmrUeIY1CxQJw=\");\n_c2 = LoginForm;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"LoginForm\");","map":{"version":3,"names":["React","useState","useEffect","api","FederalDashboard","RegionDashboard","ZoneDashboard","WoredaDashboard","KebeleDashboard","FarmerDashboard","jsxDEV","_jsxDEV","App","_s","currentUser","setCurrentUser","currentPage","setCurrentPage","requests","setRequests","products","setProducts","fetchData","resRequests","getRequests","resProducts","getProducts","err","console","error","handleLogin","credentials","user","login","phone","password","alert","response","data","message","renderDashboard","role","fileName","_jsxFileName","lineNumber","columnNumber","className","children","LoginForm","onLogin","_c","_s2","setPhone","setPassword","submit","e","preventDefault","onSubmit","type","placeholder","value","onChange","target","_c2","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api\r\nfrom './api';\r\nimport FederalDashboard from './dashboards/FederalDashboard';\r\nimport RegionDashboard from './dashboards/RegionDashboard';\r\nimport ZoneDashboard from './dashboards/ZoneDashboard';\r\nimport WoredaDashboard from './dashboards/WoredaDashboard';\r\nimport KebeleDashboard from './dashboards/KebeleDashboard';\r\nimport FarmerDashboard from './dashboards/FarmerDashboard';\r\n\r\nfunction App() {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [currentPage, setCurrentPage] = useState('login');\r\n    const [requests, setRequests] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            fetchData();\r\n        }\r\n    }, [currentUser]);\r\n\r\n    const fetchData = async() => {\r\n        try {\r\n            const resRequests = await api.getRequests();\r\n            const resProducts = await api.getProducts();\r\n            setRequests(resRequests);\r\n            setProducts(resProducts);\r\n        } catch (err) {\r\n            console.error('Fetch error:', err);\r\n        }\r\n    };\r\n\r\n    const handleLogin = async(credentials) => {\r\n        try {\r\n            // Login using phone number and password\r\n            const user = await api.login({\r\n                phone: credentials.phone,\r\n                password: credentials.password\r\n            });\r\n            setCurrentUser(user);\r\n            setCurrentPage('dashboard');\r\n        } catch (err) {\r\n            alert('Login failed: ' + (err.response && err.response.data && err.response.data.message));\r\n        }\r\n    };\r\n\r\n    const renderDashboard = () => {\r\n        if (!currentUser) return null;\r\n\r\n        switch (currentUser.role) {\r\n            case 'Federal':\r\n                return <FederalDashboard requests = { requests }\r\n                currentUser = { currentUser }\r\n                />;\r\n            case 'Region':\r\n                return <RegionDashboard requests = { requests }\r\n                currentUser = { currentUser }\r\n                />;\r\n            case 'Zone':\r\n                return <ZoneDashboard requests = { requests }\r\n                currentUser = { currentUser }\r\n                />;\r\n            case 'Woreda':\r\n                return <WoredaDashboard requests = { requests }\r\n                currentUser = { currentUser }\r\n                />;\r\n            case 'Kebele':\r\n                return <KebeleDashboard requests = { requests }\r\n                currentUser = { currentUser }\r\n                />;\r\n            case 'Farmer':\r\n                return <FarmerDashboard currentUser = { currentUser }\r\n                products = { products }\r\n                requests = { requests }\r\n                />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return ( <\r\n        div className = \"min-h-screen bg-gray-100\" > {\r\n            currentPage === 'login' && ( <\r\n                div className = \"flex items-center justify-center h-screen\" >\r\n                <\r\n                LoginForm onLogin = { handleLogin }\r\n                /> < /\r\n                div >\r\n            )\r\n        } { currentPage === 'dashboard' && renderDashboard() } <\r\n        /div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n// LoginForm Component\r\nfunction LoginForm({ onLogin }) {\r\n    const [phone, setPhone] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n        onLogin({ phone, password });\r\n    };\r\n\r\n    return ( <\r\n        form onSubmit = { submit }\r\n        className = \"bg-white p-8 rounded shadow-md w-96 space-y-4\" >\r\n        <\r\n        h2 className = \"text-2xl font-bold text-center\" > Login < /h2> <\r\n        input type = \"text\"\r\n        placeholder = \"Phone Number\"\r\n        value = { phone }\r\n        onChange = {\r\n            (e) => setPhone(e.target.value)\r\n        }\r\n        className = \"w-full border border-gray-300 p-2 rounded\" /\r\n        >\r\n        <\r\n        input type = \"password\"\r\n        placeholder = \"Password\"\r\n        value = { password }\r\n        onChange = {\r\n            (e) => setPassword(e.target.value)\r\n        }\r\n        className = \"w-full border border-gray-300 p-2 rounded\" /\r\n        >\r\n        <\r\n        button type = \"submit\"\r\n        className = \"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\" >\r\n        Login <\r\n        /button> < /\r\n        form >\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}