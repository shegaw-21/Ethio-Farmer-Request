{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithEmailAndPassword, onAuthStateChanged, createUserWithEmailAndPassword, signInWithCustomToken, signInAnonymously } from 'firebase/auth';\nimport { getFirestore, collection, doc, setDoc, getDocs, getDoc, query, where } from 'firebase/firestore';\n\n// Define global variables provided by the environment, with fallbacks for local development\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = typeof window !== 'undefined' && typeof window.__app_id !== 'undefined' ? window.__app_id : 'default-app-id';\nconst firebaseConfig = typeof window !== 'undefined' && typeof window.__firebase_config !== 'undefined' ? JSON.parse(window.__firebase_config) : {};\nconst initialAuthToken = typeof window !== 'undefined' && typeof window.__initial_auth_token !== 'undefined' ? window.__initial_auth_token : undefined;\n\n// --- Login Component ---\nconst Login = ({\n  onLogin,\n  onRegister\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Handle the login form submission.\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      // Sign in with the provided email and password.\n      const userCredential = await signInWithEmailAndPassword(getAuth(), email, password);\n      onLogin(userCredential.user);\n    } catch (err) {\n      console.error(\"Login error:\", err);\n      setError('Invalid email or password. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-center text-gray-900 dark:text-white\",\n        children: \" Log In \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-sm text-gray-500 dark:text-gray-400\",\n        children: \"Enter your credentials to access the system. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 107\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"space-y-6\",\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"Email Address \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            type: \"email\",\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"mt-1 w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",\n            placeholder: \"e.g., admin@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\",\n            children: \"Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            type: \"password\",\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"mt-1 w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\",\n            placeholder: \"Enter your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this), \" \", error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm text-center\",\n          children: [\" \", error, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 26\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out disabled:opacity-50\",\n            children: [loading ? 'Signing In...' : 'Sign In', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 100\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 dark:text-gray-400\",\n          children: [\"Don 't have an account? \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 45\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onRegister,\n            className: \"font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out\",\n            children: \"Click here to create a Federal Admin account for the first time. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 51\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 28\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 18\n  }, this);\n};\n\n// --- Admin Creation Component ---\n_s(Login, \"G/T6+fVRpp/0AVvTYcd6/2PGde0=\");\n_c = Login;\nconst CreateUserForm = ({\n  db,\n  auth,\n  parentRole,\n  onBack,\n  locationId,\n  parentUserId\n}) => {\n  _s2();\n  const [fullName, setFullName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [assignedLocation, setAssignedLocation] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Determine the role and location type of the user to be created\n  const childRoleMap = {\n    'Federal Admin': 'Regional Admin',\n    'Regional Admin': 'Zone Admin',\n    'Zone Admin': 'Woreda Admin',\n    'Woreda Admin': 'Kebele Admin',\n    'Kebele Admin': 'Farmer'\n  };\n  const roleToCreate = childRoleMap[parentRole];\n\n  // Handle form submission to create the new user\n  const handleCreateUser = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      const newUserId = userCredential.user.uid;\n\n      // Store user's profile and role in Firestore in the admins collection\n      const userDocRef = doc(db, `artifacts/${appId}/public/data/admins`, newUserId);\n      await setDoc(userDocRef, {\n        user_id: newUserId,\n        full_name: fullName,\n        phone_number: phoneNumber,\n        role: roleToCreate,\n        location_id: assignedLocation,\n        // The parentUserId is useful for querying later.\n        created_by_user_id: parentUserId\n      });\n      setMessage(`Success! A new ${roleToCreate} account '${fullName}' has been created with ID ${newUserId} for location '${assignedLocation}'.`);\n      // Clear form fields\n      setFullName('');\n      setEmail('');\n      setPassword('');\n      setPhoneNumber('');\n      setAssignedLocation('');\n    } catch (error) {\n      console.error(\"Error creating user:\", error);\n      let errorMessage = \"An unknown error occurred. Please try again.\";\n      if (error.code === 'auth/email-already-in-use') {\n        errorMessage = 'This email is already in use. Please use a different one.';\n      } else if (error.code === 'auth/weak-password') {\n        errorMessage = 'The password is too weak. Please use a stronger password.';\n      }\n      setMessage(`Error: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8 bg-gray-50 dark:bg-gray-800 flex-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto bg-white dark:bg-gray-700 p-8 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold mb-6 text-center text-gray-800 dark:text-gray-100\",\n        children: [\"Create \", roleToCreate, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mb-6 text-sm text-center text-gray-600 dark:text-gray-300\",\n        children: [\"As a \", parentRole, \", you can create an account for the next level down. \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateUser,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"fullName\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-200\",\n            children: \"Full Name \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"fullName\",\n            value: fullName,\n            onChange: e => setFullName(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-200\",\n            children: \"Email Address \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 23\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-200\",\n            children: \"Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 23\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phoneNumber\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-200\",\n            children: \"Phone Number \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            id: \"phoneNumber\",\n            value: phoneNumber,\n            onChange: e => setPhoneNumber(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 23\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"location\",\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-200\",\n            children: \"Assign Location \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"location\",\n            value: assignedLocation,\n            onChange: e => setAssignedLocation(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\",\n            placeholder: `Enter the new user's ${roleToCreate.split(' ')[0]} location`,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !db || !auth,\n          className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition duration-150 ease-in-out\",\n          children: [loading ? 'Creating...' : `Create ${roleToCreate}`, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 17\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mt-6 text-center text-sm font-medium p-4 rounded-md ${message.startsWith('Error') ? 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300' : 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300'}`,\n        children: [\" \", message, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 34\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 22\n  }, this);\n};\n\n// --- Dashboard and Content Views ---\n_s2(CreateUserForm, \"xiyBf7hSKMOldw199Kf6j79Wp8c=\");\n_c2 = CreateUserForm;\nconst Dashboard = ({\n  userRole,\n  userLocation\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-8 flex-1\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold mb-4\",\n      children: [\" \", userRole, \"Dashboard \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg text-gray-700 dark:text-gray-300 mb-6\",\n      children: [\"Welcome, \", userRole, \".You have permissions for location: ** \", userLocation, \" ** . \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \" Total Requests \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-bold text-gray-900 dark:text-white\",\n          children: \" 1, 250 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 81\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \" Pending Approvals \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-bold text-yellow-500\",\n          children: \" 25 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 84\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 19\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: \" Approved Requests \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-bold text-green-500\",\n          children: \" 1, 012 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 84\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 19\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 13\n  }, this), \" \"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 292,\n  columnNumber: 61\n}, this);\n_c3 = Dashboard;\nconst ProductRequests = ({\n  userRole\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-8\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-2xl font-bold mb-4\",\n    children: \" Product Requests \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 13\n  }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\" This is where \", userRole, \"would view and manage product requests based on their assigned location. \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 80\n  }, this), \" \"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 327,\n  columnNumber: 53\n}, this);\n_c4 = ProductRequests;\nconst Approvals = ({\n  userRole\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-8\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-2xl font-bold mb-4\",\n    children: \" Approvals \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 13\n  }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\" This is where \", userRole, \"would manage pending approvals for their assigned hierarchy. \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 339,\n    columnNumber: 73\n  }, this), \" \"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 336,\n  columnNumber: 47\n}, this);\n_c5 = Approvals;\nconst UserManagement = ({\n  db,\n  auth,\n  userRole,\n  userId\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"p-8 bg-gray-50 dark:bg-gray-800 flex-1\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100\",\n      children: \" User Management \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(CreateUserForm, {\n      db: db,\n      auth: auth,\n      parentRole: userRole,\n      parentUserId: userId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 112\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 13\n  }, this), \" \"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 346,\n  columnNumber: 70\n}, this);\n_c6 = UserManagement;\nconst App = () => {\n  _s3();\n  const [db, setDb] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [userRole, setUserRole] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [currentView, setCurrentView] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n\n  // --- Firebase Initialization and Auth Listener ---\n  useEffect(() => {\n    const initFirebase = async () => {\n      try {\n        const app = initializeApp(firebaseConfig);\n        const firestoreDb = getFirestore(app);\n        const firebaseAuth = getAuth(app);\n        setDb(firestoreDb);\n        setAuth(firebaseAuth);\n\n        // Set up the authentication state listener\n        onAuthStateChanged(firebaseAuth, async user => {\n          if (user) {\n            setUserId(user.uid);\n            await fetchAndSetUserRole(firestoreDb, user.uid);\n            setIsLoggedIn(true);\n          } else {\n            // Attempt to sign in anonymously with the custom token if available\n            if (initialAuthToken) {\n              await signInWithCustomToken(firebaseAuth, initialAuthToken);\n            } else {\n              // No user and no token, so a login is required.\n              setIsLoggedIn(false);\n              setUserRole(null);\n            }\n          }\n          setLoading(false);\n        });\n      } catch (error) {\n        console.error(\"Firebase initialization or auth error:\", error);\n        setLoading(false);\n      }\n    };\n    initFirebase();\n  }, []);\n\n  // Fetch and set the user's role and location from Firestore\n  const fetchAndSetUserRole = async (firestoreDb, uid) => {\n    try {\n      const userDocRef = doc(firestoreDb, `artifacts/${appId}/public/data/admins`, uid);\n      const docSnap = await getDoc(userDocRef);\n      if (docSnap.exists()) {\n        const userData = docSnap.data();\n        setUserRole(userData.role);\n        setUserLocation(userData.location_id);\n      } else {\n        // User exists in auth but not in our admins table. This might happen with anonymous sign-in.\n        setUserRole('Unknown');\n        setUserLocation('N/A');\n      }\n    } catch (error) {\n      console.error(\"Error fetching user role:\", error);\n    }\n  };\n  const handleLoginSuccess = async user => {\n    if (user) {\n      await fetchAndSetUserRole(db, user.uid);\n      setIsLoggedIn(true);\n      setCurrentView('dashboard');\n    }\n  };\n  const handleCreateInitialAdmin = async e => {\n    e.preventDefault();\n    setLoading(true);\n    const email = prompt(\"Enter email for Federal Admin:\");\n    const password = prompt(\"Enter password for Federal Admin (must be at least 6 characters):\");\n    const fullName = prompt(\"Enter full name for Federal Admin:\");\n    if (email && password && fullName) {\n      try {\n        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n        const newUserId = userCredential.user.uid;\n        await setDoc(doc(db, `artifacts/${appId}/public/data/admins`, newUserId), {\n          user_id: newUserId,\n          full_name: fullName,\n          phone_number: 'N/A',\n          // Placeholder for initial admin\n          role: 'Federal Admin',\n          location_id: 'All Locations'\n        });\n        alert(\"Federal Admin created successfully! Please log in.\");\n        setIsRegistering(false);\n      } catch (error) {\n        console.error(\"Error creating initial admin:\", error);\n        alert(`Error: ${error.message}`);\n      }\n    }\n    setLoading(false);\n  };\n  const renderContent = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 28\n      }, this);\n    }\n    if (!isLoggedIn) {\n      return isRegistering ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center min-h-screen\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCreateInitialAdmin,\n          className: \"px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700\",\n          children: \"Create Federal Admin \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsRegistering(false),\n          className: \"mt-4 text-sm text-indigo-600 hover:underline\",\n          children: \"Back to Login \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 34\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 46\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLoginSuccess,\n        onRegister: () => setIsRegistering(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 27\n      }, this);\n    }\n    switch (currentView) {\n      case 'dashboard':\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          userRole: userRole,\n          userLocation: userLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 32\n        }, this);\n      case 'productRequests':\n        return /*#__PURE__*/_jsxDEV(ProductRequests, {\n          userRole: userRole\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 32\n        }, this);\n      case 'approvals':\n        return /*#__PURE__*/_jsxDEV(Approvals, {\n          userRole: userRole\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 32\n        }, this);\n      case 'userManagement':\n        return /*#__PURE__*/_jsxDEV(UserManagement, {\n          db: db,\n          auth: auth,\n          userRole: userRole,\n          userId: userId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 32\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          userRole: userRole,\n          userLocation: userLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 32\n        }, this);\n    }\n  };\n  const renderSidebar = () => {\n    if (!isLoggedIn) return null;\n    const navItems = [{\n      name: 'Dashboard',\n      view: 'dashboard'\n    }, {\n      name: 'Product Requests',\n      view: 'productRequests'\n    }, {\n      name: 'Approvals',\n      view: 'approvals'\n    }];\n    const canManageUsers = ['Federal Admin', 'Regional Admin', 'Zone Admin', 'Woreda Admin', 'Kebele Admin'].includes(userRole);\n    if (canManageUsers) {\n      navItems.push({\n        name: 'User Management',\n        view: 'userManagement'\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-white dark:bg-gray-800 shadow-lg p-6 flex flex-col justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold\",\n            children: \" Admin Panel \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 21\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 dark:text-gray-400\",\n            children: [\" \", userRole, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 77\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 dark:text-gray-500\",\n            children: [\" ID: \", userId, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 99\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 21\n        }, this), \" \", navItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView(item.view),\n          className: `w-full text-left p-3 rounded-xl transition-all duration-200 ${currentView === item.view ? 'bg-indigo-600 text-white shadow-md' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'}`,\n          children: [item.name, \" \"]\n        }, item.view, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 48\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 26\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white\",\n    children: [\" \", isLoggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-1\",\n      children: [\" \", renderSidebar(), \" \", /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 p-8 overflow-y-auto\",\n        children: [\" \", renderContent(), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 77\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 36\n    }, this) : renderContent(), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 556,\n    columnNumber: 22\n  }, this);\n};\n_s3(App, \"XP2F7fJ8neobJxJSPwVgOmjZJAY=\");\n_c7 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"CreateUserForm\");\n$RefreshReg$(_c3, \"Dashboard\");\n$RefreshReg$(_c4, \"ProductRequests\");\n$RefreshReg$(_c5, \"Approvals\");\n$RefreshReg$(_c6, \"UserManagement\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getAuth","signInWithEmailAndPassword","onAuthStateChanged","createUserWithEmailAndPassword","signInWithCustomToken","signInAnonymously","getFirestore","collection","doc","setDoc","getDocs","getDoc","query","where","jsxDEV","_jsxDEV","appId","window","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","undefined","Login","onLogin","onRegister","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleLogin","e","preventDefault","userCredential","user","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","type","required","value","onChange","target","placeholder","disabled","onClick","_c","CreateUserForm","db","auth","parentRole","onBack","locationId","parentUserId","_s2","fullName","setFullName","phoneNumber","setPhoneNumber","assignedLocation","setAssignedLocation","message","setMessage","childRoleMap","roleToCreate","handleCreateUser","newUserId","uid","userDocRef","user_id","full_name","phone_number","role","location_id","created_by_user_id","errorMessage","code","split","startsWith","_c2","Dashboard","userRole","userLocation","_c3","ProductRequests","_c4","Approvals","_c5","UserManagement","userId","_c6","App","_s3","setDb","setAuth","setUserId","setUserRole","setUserLocation","isLoggedIn","setIsLoggedIn","isRegistering","setIsRegistering","currentView","setCurrentView","initFirebase","app","firestoreDb","firebaseAuth","fetchAndSetUserRole","docSnap","exists","userData","data","handleLoginSuccess","handleCreateInitialAdmin","prompt","alert","renderContent","renderSidebar","navItems","name","view","canManageUsers","includes","push","map","item","_c7","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithEmailAndPassword, onAuthStateChanged, createUserWithEmailAndPassword, signInWithCustomToken, signInAnonymously } from 'firebase/auth';\nimport { getFirestore, collection, doc, setDoc, getDocs, getDoc, query, where } from 'firebase/firestore';\n\n// Define global variables provided by the environment, with fallbacks for local development\nconst appId = typeof window !== 'undefined' && typeof window.__app_id !== 'undefined' ? window.__app_id : 'default-app-id';\nconst firebaseConfig = typeof window !== 'undefined' && typeof window.__firebase_config !== 'undefined' ? JSON.parse(window.__firebase_config) : {};\nconst initialAuthToken = typeof window !== 'undefined' && typeof window.__initial_auth_token !== 'undefined' ? window.__initial_auth_token : undefined;\n\n// --- Login Component ---\nconst Login = ({ onLogin, onRegister }) => {\n        const [email, setEmail] = useState('');\n        const [password, setPassword] = useState('');\n        const [error, setError] = useState('');\n        const [loading, setLoading] = useState(false);\n\n        // Handle the login form submission.\n        const handleLogin = async(e) => {\n            e.preventDefault();\n            setLoading(true);\n            setError('');\n            try {\n                // Sign in with the provided email and password.\n                const userCredential = await signInWithEmailAndPassword(getAuth(), email, password);\n                onLogin(userCredential.user);\n            } catch (err) {\n                console.error(\"Login error:\", err);\n                setError('Invalid email or password. Please try again.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        return ( <\n            div className = \"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900\" >\n            <\n            div className = \"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700\" >\n            <\n            h2 className = \"text-3xl font-bold text-center text-gray-900 dark:text-white\" > Log In < /h2> <\n            p className = \"text-center text-sm text-gray-500 dark:text-gray-400\" >\n            Enter your credentials to access the system. <\n            /p> <\n            form className = \"space-y-6\"\n            onSubmit = { handleLogin } >\n            <\n            div >\n            <\n            label htmlFor = \"email\"\n            className = \"block text-sm font-medium text-gray-700 dark:text-gray-300\" >\n            Email Address <\n            /label> <\n            input id = \"email\"\n            type = \"email\"\n            required value = { email }\n            onChange = {\n                (e) => setEmail(e.target.value) }\n            className = \"mt-1 w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\n            placeholder = \"e.g., admin@example.com\" /\n            >\n            <\n            /div> <\n            div >\n            <\n            label htmlFor = \"password\"\n            className = \"block text-sm font-medium text-gray-700 dark:text-gray-300\" >\n            Password <\n            /label> <\n            input id = \"password\"\n            type = \"password\"\n            required value = { password }\n            onChange = {\n                (e) => setPassword(e.target.value) }\n            className = \"mt-1 w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white\"\n            placeholder = \"Enter your password\" /\n            >\n            <\n            /div> {\n                error && < div className = \"text-red-500 text-sm text-center\" > { error } < /div>} <\n                    div >\n                    <\n                    button\n                type = \"submit\"\n                disabled = { loading }\n                className = \"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out disabled:opacity-50\" >\n                    { loading ? 'Signing In...' : 'Sign In' } <\n                    /button> <\n                    /div> <\n                    /form> <\n                    div className = \"mt-4 text-center\" >\n                    <\n                    p className = \"text-sm text-gray-500 dark:text-gray-400\" >\n                    Don 't have an account? <br/> <\n                    button onClick = { onRegister }\n                className = \"font-medium text-indigo-600 hover:text-indigo-500 transition duration-150 ease-in-out\" >\n                    Click here to create a Federal Admin account\n                for the first time. <\n                    /button> <\n                    /p> <\n                    /div> <\n                    /div> <\n                    /div>\n            );\n        };\n\n\n        // --- Admin Creation Component ---\n        const CreateUserForm = ({ db, auth, parentRole, onBack, locationId, parentUserId }) => {\n            const [fullName, setFullName] = useState('');\n            const [email, setEmail] = useState('');\n            const [password, setPassword] = useState('');\n            const [phoneNumber, setPhoneNumber] = useState('');\n            const [assignedLocation, setAssignedLocation] = useState('');\n            const [message, setMessage] = useState('');\n            const [loading, setLoading] = useState(false);\n\n            // Determine the role and location type of the user to be created\n            const childRoleMap = {\n                'Federal Admin': 'Regional Admin',\n                'Regional Admin': 'Zone Admin',\n                'Zone Admin': 'Woreda Admin',\n                'Woreda Admin': 'Kebele Admin',\n                'Kebele Admin': 'Farmer',\n            };\n            const roleToCreate = childRoleMap[parentRole];\n\n            // Handle form submission to create the new user\n            const handleCreateUser = async(e) => {\n                e.preventDefault();\n                setLoading(true);\n                setMessage('');\n\n                try {\n                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n                    const newUserId = userCredential.user.uid;\n\n                    // Store user's profile and role in Firestore in the admins collection\n                    const userDocRef = doc(db, `artifacts/${appId}/public/data/admins`, newUserId);\n                    await setDoc(userDocRef, {\n                        user_id: newUserId,\n                        full_name: fullName,\n                        phone_number: phoneNumber,\n                        role: roleToCreate,\n                        location_id: assignedLocation,\n                        // The parentUserId is useful for querying later.\n                        created_by_user_id: parentUserId\n                    });\n\n                    setMessage(`Success! A new ${roleToCreate} account '${fullName}' has been created with ID ${newUserId} for location '${assignedLocation}'.`);\n                    // Clear form fields\n                    setFullName('');\n                    setEmail('');\n                    setPassword('');\n                    setPhoneNumber('');\n                    setAssignedLocation('');\n                } catch (error) {\n                    console.error(\"Error creating user:\", error);\n                    let errorMessage = \"An unknown error occurred. Please try again.\";\n                    if (error.code === 'auth/email-already-in-use') {\n                        errorMessage = 'This email is already in use. Please use a different one.';\n                    } else if (error.code === 'auth/weak-password') {\n                        errorMessage = 'The password is too weak. Please use a stronger password.';\n                    }\n                    setMessage(`Error: ${errorMessage}`);\n                } finally {\n                    setLoading(false);\n                }\n            };\n\n            return ( <\n                div className = \"p-8 bg-gray-50 dark:bg-gray-800 flex-1\" >\n                <\n                div className = \"max-w-2xl mx-auto bg-white dark:bg-gray-700 p-8 rounded-2xl shadow-lg\" >\n                <\n                h2 className = \"text-3xl font-bold mb-6 text-center text-gray-800 dark:text-gray-100\" >\n                Create { roleToCreate } <\n                /h2> <\n                p className = \"mb-6 text-sm text-center text-gray-600 dark:text-gray-300\" >\n                As a { parentRole }, you can create an account\n                for the next level down. <\n                /p>\n\n                <\n                form onSubmit = { handleCreateUser }\n                className = \"space-y-6\" >\n                <\n                div >\n                <\n                label htmlFor = \"fullName\"\n                className = \"block text-sm font-medium text-gray-700 dark:text-gray-200\" >\n                Full Name <\n                /label> <\n                input type = \"text\"\n                id = \"fullName\"\n                value = { fullName }\n                onChange = {\n                    (e) => setFullName(e.target.value) }\n                className = \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\"\n                required /\n                >\n                <\n                /div> <\n                div >\n                <\n                label htmlFor = \"email\"\n                className = \"block text-sm font-medium text-gray-700 dark:text-gray-200\" >\n                Email Address <\n                /label> <\n                input type = \"email\"\n                id = \"email\"\n                value = { email }\n                onChange = {\n                    (e) => setEmail(e.target.value) }\n                className = \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\"\n                required /\n                >\n                <\n                /div> <\n                div >\n                <\n                label htmlFor = \"password\"\n                className = \"block text-sm font-medium text-gray-700 dark:text-gray-200\" >\n                Password <\n                /label> <\n                input type = \"password\"\n                id = \"password\"\n                value = { password }\n                onChange = {\n                    (e) => setPassword(e.target.value) }\n                className = \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\"\n                required /\n                >\n                <\n                /div> <\n                div >\n                <\n                label htmlFor = \"phoneNumber\"\n                className = \"block text-sm font-medium text-gray-700 dark:text-gray-200\" >\n                Phone Number <\n                /label> <\n                input type = \"tel\"\n                id = \"phoneNumber\"\n                value = { phoneNumber }\n                onChange = {\n                    (e) => setPhoneNumber(e.target.value) }\n                className = \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\"\n                required /\n                >\n                <\n                /div> <\n                div >\n                <\n                label htmlFor = \"location\"\n                className = \"block text-sm font-medium text-gray-700 dark:text-gray-200\" >\n                Assign Location <\n                /label> <\n                input type = \"text\"\n                id = \"location\"\n                value = { assignedLocation }\n                onChange = {\n                    (e) => setAssignedLocation(e.target.value) }\n                className = \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white p-3\"\n                placeholder = { `Enter the new user's ${roleToCreate.split(' ')[0]} location` }\n                required /\n                >\n                <\n                /div>\n\n                <\n                button type = \"submit\"\n                disabled = { loading || !db || !auth }\n                className = \"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition duration-150 ease-in-out\" >\n                { loading ? 'Creating...' : `Create ${roleToCreate}` } <\n                /button> <\n                /form>\n\n                {\n                    message && ( <\n                        div className = { `mt-6 text-center text-sm font-medium p-4 rounded-md ${\n            message.startsWith('Error') ? 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300' : 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300'\n          }` } > { message } <\n                        /div>\n                    )\n                } <\n                /div> <\n                /div>\n            );\n        };\n\n\n        // --- Dashboard and Content Views ---\n        const Dashboard = ({ userRole, userLocation }) => ( <\n            div className = \"p-8 flex-1\" >\n            <\n            div className = \"max-w-4xl mx-auto\" >\n            <\n            h2 className = \"text-3xl font-bold mb-4\" > { userRole }\n            Dashboard < /h2> <\n            p className = \"text-lg text-gray-700 dark:text-gray-300 mb-6\" >\n            Welcome, { userRole }.You have permissions\n            for location: ** { userLocation } ** . <\n            /p>\n\n            <\n            div className = \"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\" >\n            <\n            div className = \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\" >\n            <\n            h3 className = \"text-xl font-semibold mb-2\" > Total Requests < /h3> <\n            p className = \"text-4xl font-bold text-gray-900 dark:text-white\" > 1, 250 < /p> <\n            /div> <\n            div className = \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\" >\n            <\n            h3 className = \"text-xl font-semibold mb-2\" > Pending Approvals < /h3> <\n            p className = \"text-4xl font-bold text-yellow-500\" > 25 < /p> <\n            /div> <\n            div className = \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg\" >\n            <\n            h3 className = \"text-xl font-semibold mb-2\" > Approved Requests < /h3> <\n            p className = \"text-4xl font-bold text-green-500\" > 1, 012 < /p> <\n            /div> <\n            /div> <\n            /div> <\n            /div>\n        );\n\n        const ProductRequests = ({ userRole }) => ( <\n            div className = \"p-8\" >\n            <\n            h2 className = \"text-2xl font-bold mb-4\" > Product Requests < /h2> <\n            p > This is where { userRole }\n            would view and manage product requests based on their assigned location. < /p> <\n            /div>\n        );\n\n        const Approvals = ({ userRole }) => ( <\n            div className = \"p-8\" >\n            <\n            h2 className = \"text-2xl font-bold mb-4\" > Approvals < /h2> <\n            p > This is where { userRole }\n            would manage pending approvals\n            for their assigned hierarchy. < /p> <\n            /div>\n        );\n\n        const UserManagement = ({ db, auth, userRole, userId }) => ( <\n            div className = \"p-8 bg-gray-50 dark:bg-gray-800 flex-1\" >\n            <\n            div className = \"max-w-4xl mx-auto\" >\n            <\n            h2 className = \"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-100\" > User Management < /h2> <\n            CreateUserForm db = { db }\n            auth = { auth }\n            parentRole = { userRole }\n            parentUserId = { userId }\n            /> <\n            /div> <\n            /div>\n        );\n\n\n        const App = () => {\n            const [db, setDb] = useState(null);\n            const [auth, setAuth] = useState(null);\n            const [userId, setUserId] = useState(null);\n            const [userRole, setUserRole] = useState(null);\n            const [userLocation, setUserLocation] = useState(null);\n            const [isLoggedIn, setIsLoggedIn] = useState(false);\n            const [isRegistering, setIsRegistering] = useState(false);\n            const [currentView, setCurrentView] = useState('dashboard');\n            const [loading, setLoading] = useState(true);\n\n            // --- Firebase Initialization and Auth Listener ---\n            useEffect(() => {\n                const initFirebase = async() => {\n                    try {\n                        const app = initializeApp(firebaseConfig);\n                        const firestoreDb = getFirestore(app);\n                        const firebaseAuth = getAuth(app);\n                        setDb(firestoreDb);\n                        setAuth(firebaseAuth);\n\n                        // Set up the authentication state listener\n                        onAuthStateChanged(firebaseAuth, async(user) => {\n                            if (user) {\n                                setUserId(user.uid);\n                                await fetchAndSetUserRole(firestoreDb, user.uid);\n                                setIsLoggedIn(true);\n                            } else {\n                                // Attempt to sign in anonymously with the custom token if available\n                                if (initialAuthToken) {\n                                    await signInWithCustomToken(firebaseAuth, initialAuthToken);\n                                } else {\n                                    // No user and no token, so a login is required.\n                                    setIsLoggedIn(false);\n                                    setUserRole(null);\n                                }\n                            }\n                            setLoading(false);\n                        });\n\n                    } catch (error) {\n                        console.error(\"Firebase initialization or auth error:\", error);\n                        setLoading(false);\n                    }\n                };\n                initFirebase();\n            }, []);\n\n            // Fetch and set the user's role and location from Firestore\n            const fetchAndSetUserRole = async(firestoreDb, uid) => {\n                try {\n                    const userDocRef = doc(firestoreDb, `artifacts/${appId}/public/data/admins`, uid);\n                    const docSnap = await getDoc(userDocRef);\n                    if (docSnap.exists()) {\n                        const userData = docSnap.data();\n                        setUserRole(userData.role);\n                        setUserLocation(userData.location_id);\n                    } else {\n                        // User exists in auth but not in our admins table. This might happen with anonymous sign-in.\n                        setUserRole('Unknown');\n                        setUserLocation('N/A');\n                    }\n                } catch (error) {\n                    console.error(\"Error fetching user role:\", error);\n                }\n            };\n\n            const handleLoginSuccess = async(user) => {\n                if (user) {\n                    await fetchAndSetUserRole(db, user.uid);\n                    setIsLoggedIn(true);\n                    setCurrentView('dashboard');\n                }\n            };\n\n            const handleCreateInitialAdmin = async(e) => {\n                e.preventDefault();\n                setLoading(true);\n                const email = prompt(\"Enter email for Federal Admin:\");\n                const password = prompt(\"Enter password for Federal Admin (must be at least 6 characters):\");\n                const fullName = prompt(\"Enter full name for Federal Admin:\");\n\n                if (email && password && fullName) {\n                    try {\n                        const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n                        const newUserId = userCredential.user.uid;\n                        await setDoc(doc(db, `artifacts/${appId}/public/data/admins`, newUserId), {\n                            user_id: newUserId,\n                            full_name: fullName,\n                            phone_number: 'N/A', // Placeholder for initial admin\n                            role: 'Federal Admin',\n                            location_id: 'All Locations'\n                        });\n                        alert(\"Federal Admin created successfully! Please log in.\");\n                        setIsRegistering(false);\n                    } catch (error) {\n                        console.error(\"Error creating initial admin:\", error);\n                        alert(`Error: ${error.message}`);\n                    }\n                }\n                setLoading(false);\n            };\n\n\n            const renderContent = () => {\n                if (loading) {\n                    return <div className = \"p-8 text-center text-gray-500\" > Loading... < /div>;\n                }\n\n                if (!isLoggedIn) {\n                    return isRegistering ? ( <\n                        div className = \"flex flex-col items-center justify-center min-h-screen\" >\n                        <\n                        button onClick = { handleCreateInitialAdmin }\n                        className = \"px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700\" >\n                        Create Federal Admin <\n                        /button> <\n                        button onClick = {\n                            () => setIsRegistering(false) }\n                        className = \"mt-4 text-sm text-indigo-600 hover:underline\" >\n                        Back to Login <\n                        /button> <\n                        /div>\n                    ) : ( <\n                        Login onLogin = { handleLoginSuccess }\n                        onRegister = {\n                            () => setIsRegistering(true) }\n                        />\n                    );\n                }\n\n                switch (currentView) {\n                    case 'dashboard':\n                        return <Dashboard userRole = { userRole }\n                        userLocation = { userLocation }\n                        />;\n                    case 'productRequests':\n                        return <ProductRequests userRole = { userRole }\n                        />;\n                    case 'approvals':\n                        return <Approvals userRole = { userRole }\n                        />;\n                    case 'userManagement':\n                        return <UserManagement db = { db }\n                        auth = { auth }\n                        userRole = { userRole }\n                        userId = { userId }\n                        />;\n                    default:\n                        return <Dashboard userRole = { userRole }\n                        userLocation = { userLocation }\n                        />;\n                }\n            };\n\n            const renderSidebar = () => {\n                if (!isLoggedIn) return null;\n\n                const navItems = [\n                    { name: 'Dashboard', view: 'dashboard' },\n                    { name: 'Product Requests', view: 'productRequests' },\n                    { name: 'Approvals', view: 'approvals' },\n                ];\n\n                const canManageUsers = ['Federal Admin', 'Regional Admin', 'Zone Admin', 'Woreda Admin', 'Kebele Admin'].includes(userRole);\n                if (canManageUsers) {\n                    navItems.push({ name: 'User Management', view: 'userManagement' });\n                }\n\n                return ( <\n                    aside className = \"w-64 bg-white dark:bg-gray-800 shadow-lg p-6 flex flex-col justify-between\" >\n                    <\n                    nav className = \"space-y-2\" >\n                    <\n                    div className = \"p-4 text-center\" >\n                    <\n                    h1 className = \"text-xl font-bold\" > Admin Panel < /h1> <\n                    p className = \"text-sm text-gray-500 dark:text-gray-400\" > { userRole } < /p> <\n                    p className = \"text-xs text-gray-400 dark:text-gray-500\" > ID: { userId } < /p> <\n                    /div> {\n                        navItems.map(item => ( <\n                            button key = { item.view }\n                            onClick = {\n                                () => setCurrentView(item.view) }\n                            className = { `w-full text-left p-3 rounded-xl transition-all duration-200 ${currentView === item.view ? 'bg-indigo-600 text-white shadow-md' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'}` } >\n                            { item.name } <\n                            /button>\n                        ))\n                    } <\n                    /nav> <\n                    /aside>\n                );\n            };\n\n            return ( <\n                div className = \"min-h-screen flex flex-col bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white\" > {\n                    isLoggedIn ? ( <\n                        div className = \"flex flex-1\" > { renderSidebar() } <\n                        main className = \"flex-1 p-8 overflow-y-auto\" > { renderContent() } <\n                        /main> <\n                        /div>\n                    ) : (\n                        renderContent()\n                    )\n                } <\n                /div>\n            );\n        };\n\n        export default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}