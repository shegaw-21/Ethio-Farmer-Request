{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously, signOut } from 'firebase/auth';\nimport { getFirestore, doc, setDoc, getDoc, collection, query, onSnapshot } from 'firebase/firestore';\nimport Header from './components/Header';\nimport Sidebar from './components/Sidebar';\nimport Modal from './components/Modal';\nimport LoginForm from './pages/LoginForm';\nimport DashboardPage from './pages/DashboardPage';\nimport ReportsPage from './pages/ReportsPage';\nimport NewRequestForm from './pages/NewRequestForm';\nimport RequestApprovalForm from './pages/RequestApprovalForm';\n\n// The following global variables are provided by the Canvas environment.\n// We must always use them for Firebase setup.\n// eslint-disable-next-line no-undef\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n// eslint-disable-next-line no-undef\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\n// eslint-disable-next-line no-undef\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\nexport default function App() {\n  _s();\n  const [db, setDb] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authReady, setAuthReady] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [requests, setRequests] = useState([]);\n  const [locations, setLocations] = useState({\n    regions: [],\n    zones: [],\n    woredas: []\n  });\n  const [currentPage, setCurrentPage] = useState('dashboard');\n  const [showModal, setShowModal] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const [selectedRequest, setSelectedRequest] = useState(null);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // Initialize Firebase and set up auth state listener\n  useEffect(() => {\n    try {\n      const app = initializeApp(firebaseConfig);\n      const firestore = getFirestore(app);\n      const authentication = getAuth(app);\n      setDb(firestore);\n      setAuth(authentication);\n      const unsubscribeAuth = onAuthStateChanged(authentication, async user => {\n        if (user) {\n          setCurrentUser(user);\n          const userRef = doc(firestore, 'artifacts', appId, 'users', user.uid);\n          const userSnap = await getDoc(userRef);\n          if (userSnap.exists()) {\n            setCurrentUser(prev => ({\n              ...prev,\n              ...userSnap.data()\n            }));\n          }\n          setAuthReady(true);\n        } else {\n          try {\n            if (initialAuthToken) {\n              await signInWithCustomToken(authentication, initialAuthToken);\n            } else {\n              await signInAnonymously(authentication);\n            }\n          } catch (error) {\n            console.error('Authentication Error:', error);\n          }\n        }\n      });\n      return () => unsubscribeAuth();\n    } catch (error) {\n      console.error('Firebase initialization error:', error);\n      setLoading(false);\n    }\n  }, []);\n\n  // Fetch locations from Firestore\n  useEffect(() => {\n    if (!authReady || !db) return;\n    const locationsRef = collection(db, 'artifacts', appId, 'public', 'data', 'locations');\n    const unsubscribeLocations = onSnapshot(locationsRef, snapshot => {\n      const fetchedLocations = {\n        regions: [],\n        zones: [],\n        woredas: []\n      };\n      snapshot.docs.forEach(doc => {\n        const data = doc.data();\n        if (data.type === 'region') fetchedLocations.regions.push(data);\n        if (data.type === 'zone') fetchedLocations.zones.push(data);\n        if (data.type === 'woreda') fetchedLocations.woredas.push(data);\n      });\n      setLocations(fetchedLocations);\n      setLoading(false);\n    });\n    return () => unsubscribeLocations();\n  }, [authReady, db]);\n\n  // Fetch requests from Firestore\n  useEffect(() => {\n    if (!authReady || !currentUser || !db) return;\n    const requestsRef = collection(db, 'artifacts', appId, 'public', 'data', 'requests');\n    const q = query(requestsRef);\n    const unsubscribeRequests = onSnapshot(q, snapshot => {\n      const fetchedRequests = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setRequests(fetchedRequests);\n    });\n    return () => unsubscribeRequests();\n  }, [authReady, currentUser, db]);\n  const showModalMessage = message => {\n    setModalContent(message);\n    setShowModal(true);\n  };\n  const handleLogin = async userCredentials => {\n    let userId;\n    if (auth.currentUser) {\n      userId = auth.currentUser.uid;\n    } else {\n      userId = crypto.randomUUID();\n    }\n    const userRef = doc(db, 'artifacts', appId, 'users', userId);\n    const userData = {\n      role: userCredentials.role,\n      locationLevel: userCredentials.locationLevel,\n      locationId: userCredentials.locationId,\n      name: userCredentials.name\n    };\n    try {\n      await setDoc(userRef, userData, {\n        merge: true\n      });\n      setCurrentUser(prev => ({\n        ...prev,\n        ...userData\n      }));\n      showModalMessage('Login successful!');\n    } catch (error) {\n      console.error('Error setting user data:', error);\n      showModalMessage('Failed to set user data. Please try again.');\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setCurrentUser(null);\n      showModalMessage('Logged out successfully!');\n    } catch (error) {\n      console.error('Error signing out:', error);\n      showModalMessage('Failed to log out. Please try again.');\n    }\n  };\n  const handleViewRequest = request => {\n    setSelectedRequest(request);\n    setCurrentPage('view-request');\n  };\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n  };\n  const getPendingRequests = () => requests.filter(req => req.status === 'Pending');\n  const getApprovedRequests = () => requests.filter(req => req.status === 'Approved');\n  const getRejectedRequests = () => requests.filter(req => req.status === 'Rejected');\n  if (loading || !authReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: \" Loading... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 16\n    }, this);\n  }\n  if (!currentUser || !currentUser.role) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {\n      onLogin: handleLogin,\n      locations: locations,\n      showModal: showModalMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex min-h-screen bg-gray-100 font-sans antialiased ${isDarkMode ? 'dark' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage,\n      isSidebarOpen: isSidebarOpen,\n      toggleSidebar: toggleSidebar,\n      userRole: currentUser.role\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        user: currentUser,\n        onLogout: handleLogout,\n        isSidebarOpen: isSidebarOpen,\n        toggleSidebar: toggleSidebar,\n        isDarkMode: isDarkMode,\n        toggleDarkMode: toggleDarkMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 p-8\",\n        children: [\" \", currentPage === 'dashboard' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: requests,\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 48\n        }, this), \" \", currentPage === 'pending-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getPendingRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 59\n        }, this), \" \", currentPage === 'approved-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getApprovedRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 64\n        }, this), \" \", currentPage === 'rejected-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getRejectedRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 68\n        }, this), \" \", currentPage === 'reports' && /*#__PURE__*/_jsxDEV(ReportsPage, {\n          user: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 62\n        }, this), \" \", currentPage === 'new-request' && /*#__PURE__*/_jsxDEV(NewRequestForm, {\n          user: currentUser,\n          showModal: showModalMessage,\n          db: db,\n          auth: auth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 70\n        }, this), \" \", currentPage === 'view-request' && /*#__PURE__*/_jsxDEV(RequestApprovalForm, {\n          user: currentUser,\n          request: selectedRequest,\n          showModal: showModalMessage,\n          db: db,\n          auth: auth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 75\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 16\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 16\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onClose: () => setShowModal(false),\n      title: \"Notification\",\n      message: modalContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 47\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 14\n  }, this);\n}\n_s(App, \"V23HnVOstQ8j9cGMuoWVMqJyOP4=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getAuth","signInWithCustomToken","onAuthStateChanged","signInAnonymously","signOut","getFirestore","doc","setDoc","getDoc","collection","query","onSnapshot","Header","Sidebar","Modal","LoginForm","DashboardPage","ReportsPage","NewRequestForm","RequestApprovalForm","jsxDEV","_jsxDEV","appId","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","App","_s","db","setDb","auth","setAuth","currentUser","setCurrentUser","authReady","setAuthReady","loading","setLoading","requests","setRequests","locations","setLocations","regions","zones","woredas","currentPage","setCurrentPage","showModal","setShowModal","modalContent","setModalContent","selectedRequest","setSelectedRequest","isSidebarOpen","setIsSidebarOpen","isDarkMode","setIsDarkMode","app","firestore","authentication","unsubscribeAuth","user","userRef","uid","userSnap","exists","prev","data","error","console","locationsRef","unsubscribeLocations","snapshot","fetchedLocations","docs","forEach","type","push","requestsRef","q","unsubscribeRequests","fetchedRequests","map","id","showModalMessage","message","handleLogin","userCredentials","userId","crypto","randomUUID","userData","role","locationLevel","locationId","name","merge","handleLogout","handleViewRequest","request","toggleSidebar","toggleDarkMode","getPendingRequests","filter","req","status","getApprovedRequests","getRejectedRequests","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","userRole","onLogout","onViewRequest","show","onClose","title","_c","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously, signOut } from 'firebase/auth';\r\nimport { getFirestore, doc, setDoc, getDoc, collection, query, onSnapshot } from 'firebase/firestore';\r\nimport Header from './components/Header';\r\nimport Sidebar from './components/Sidebar';\r\nimport Modal from './components/Modal';\r\nimport LoginForm from './pages/LoginForm';\r\nimport DashboardPage from './pages/DashboardPage';\r\nimport ReportsPage from './pages/ReportsPage';\r\nimport NewRequestForm from './pages/NewRequestForm';\r\nimport RequestApprovalForm from './pages/RequestApprovalForm';\r\n\r\n// The following global variables are provided by the Canvas environment.\r\n// We must always use them for Firebase setup.\r\n// eslint-disable-next-line no-undef\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\n// eslint-disable-next-line no-undef\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\n// eslint-disable-next-line no-undef\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\r\n\r\nexport default function App() {\r\n    const [db, setDb] = useState(null);\r\n    const [auth, setAuth] = useState(null);\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [authReady, setAuthReady] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [requests, setRequests] = useState([]);\r\n    const [locations, setLocations] = useState({ regions: [], zones: [], woredas: [] });\r\n    const [currentPage, setCurrentPage] = useState('dashboard');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [modalContent, setModalContent] = useState('');\r\n    const [selectedRequest, setSelectedRequest] = useState(null);\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n    const [isDarkMode, setIsDarkMode] = useState(false);\r\n\r\n    // Initialize Firebase and set up auth state listener\r\n    useEffect(() => {\r\n        try {\r\n            const app = initializeApp(firebaseConfig);\r\n            const firestore = getFirestore(app);\r\n            const authentication = getAuth(app);\r\n            setDb(firestore);\r\n            setAuth(authentication);\r\n\r\n            const unsubscribeAuth = onAuthStateChanged(authentication, async(user) => {\r\n                if (user) {\r\n                    setCurrentUser(user);\r\n                    const userRef = doc(firestore, 'artifacts', appId, 'users', user.uid);\r\n                    const userSnap = await getDoc(userRef);\r\n                    if (userSnap.exists()) {\r\n                        setCurrentUser(prev => ({...prev, ...userSnap.data() }));\r\n                    }\r\n                    setAuthReady(true);\r\n                } else {\r\n                    try {\r\n                        if (initialAuthToken) {\r\n                            await signInWithCustomToken(authentication, initialAuthToken);\r\n                        } else {\r\n                            await signInAnonymously(authentication);\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Authentication Error:', error);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return () => unsubscribeAuth();\r\n        } catch (error) {\r\n            console.error('Firebase initialization error:', error);\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Fetch locations from Firestore\r\n    useEffect(() => {\r\n        if (!authReady || !db) return;\r\n\r\n        const locationsRef = collection(db, 'artifacts', appId, 'public', 'data', 'locations');\r\n        const unsubscribeLocations = onSnapshot(locationsRef, (snapshot) => {\r\n            const fetchedLocations = { regions: [], zones: [], woredas: [] };\r\n            snapshot.docs.forEach(doc => {\r\n                const data = doc.data();\r\n                if (data.type === 'region') fetchedLocations.regions.push(data);\r\n                if (data.type === 'zone') fetchedLocations.zones.push(data);\r\n                if (data.type === 'woreda') fetchedLocations.woredas.push(data);\r\n            });\r\n            setLocations(fetchedLocations);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribeLocations();\r\n    }, [authReady, db]);\r\n\r\n    // Fetch requests from Firestore\r\n    useEffect(() => {\r\n        if (!authReady || !currentUser || !db) return;\r\n\r\n        const requestsRef = collection(db, 'artifacts', appId, 'public', 'data', 'requests');\r\n        const q = query(requestsRef);\r\n\r\n        const unsubscribeRequests = onSnapshot(q, (snapshot) => {\r\n            const fetchedRequests = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            setRequests(fetchedRequests);\r\n        });\r\n\r\n        return () => unsubscribeRequests();\r\n    }, [authReady, currentUser, db]);\r\n\r\n    const showModalMessage = (message) => {\r\n        setModalContent(message);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleLogin = async(userCredentials) => {\r\n        let userId;\r\n        if (auth.currentUser) {\r\n            userId = auth.currentUser.uid;\r\n        } else {\r\n            userId = crypto.randomUUID();\r\n        }\r\n\r\n        const userRef = doc(db, 'artifacts', appId, 'users', userId);\r\n\r\n        const userData = {\r\n            role: userCredentials.role,\r\n            locationLevel: userCredentials.locationLevel,\r\n            locationId: userCredentials.locationId,\r\n            name: userCredentials.name,\r\n        };\r\n\r\n        try {\r\n            await setDoc(userRef, userData, { merge: true });\r\n            setCurrentUser(prev => ({...prev, ...userData }));\r\n            showModalMessage('Login successful!');\r\n        } catch (error) {\r\n            console.error('Error setting user data:', error);\r\n            showModalMessage('Failed to set user data. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleLogout = async() => {\r\n        try {\r\n            await signOut(auth);\r\n            setCurrentUser(null);\r\n            showModalMessage('Logged out successfully!');\r\n        } catch (error) {\r\n            console.error('Error signing out:', error);\r\n            showModalMessage('Failed to log out. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleViewRequest = (request) => {\r\n        setSelectedRequest(request);\r\n        setCurrentPage('view-request');\r\n    };\r\n\r\n    const toggleSidebar = () => {\r\n        setIsSidebarOpen(!isSidebarOpen);\r\n    };\r\n\r\n    const toggleDarkMode = () => {\r\n        setIsDarkMode(!isDarkMode);\r\n    };\r\n\r\n    const getPendingRequests = () => requests.filter(req => req.status === 'Pending');\r\n    const getApprovedRequests = () => requests.filter(req => req.status === 'Approved');\r\n    const getRejectedRequests = () => requests.filter(req => req.status === 'Rejected');\r\n\r\n    if (loading || !authReady) {\r\n        return <div className = \"flex items-center justify-center min-h-screen\" > Loading... < /div>;\r\n    }\r\n\r\n    if (!currentUser || !currentUser.role) {\r\n        return <LoginForm onLogin = { handleLogin }\r\n        locations = { locations }\r\n        showModal = { showModalMessage }\r\n        />;\r\n    }\r\n\r\n    return ( <\r\n            div className = { `flex min-h-screen bg-gray-100 font-sans antialiased ${isDarkMode ? 'dark' : ''}` } >\r\n            <\r\n            Sidebar currentPage = { currentPage }\r\n            setCurrentPage = { setCurrentPage }\r\n            isSidebarOpen = { isSidebarOpen }\r\n            toggleSidebar = { toggleSidebar }\r\n            userRole = { currentUser.role }\r\n            /> <\r\n            div className = \"flex-1 flex flex-col\" >\r\n            <\r\n            Header user = { currentUser }\r\n            onLogout = { handleLogout }\r\n            isSidebarOpen = { isSidebarOpen }\r\n            toggleSidebar = { toggleSidebar }\r\n            isDarkMode = { isDarkMode }\r\n            toggleDarkMode = { toggleDarkMode }\r\n            /> <\r\n            main className = \"flex-1 p-8\" > {\r\n                currentPage === 'dashboard' && < DashboardPage user = { currentUser }\r\n                requests = { requests }\r\n                onViewRequest = { handleViewRequest }\r\n                />} {\r\n                    currentPage === 'pending-requests' && < DashboardPage user = { currentUser }\r\n                    requests = { getPendingRequests() }\r\n                    onViewRequest = { handleViewRequest }\r\n                    />} {\r\n                        currentPage === 'approved-requests' && < DashboardPage user = { currentUser }\r\n                        requests = { getApprovedRequests() }\r\n                        onViewRequest = { handleViewRequest }\r\n                        />} {\r\n                            currentPage === 'rejected-requests' && < DashboardPage user = { currentUser }\r\n                            requests = { getRejectedRequests() }\r\n                            onViewRequest = { handleViewRequest }\r\n                            />} {\r\n                                currentPage === 'reports' && < ReportsPage user = { currentUser }\r\n                                />} {\r\n                                    currentPage === 'new-request' && < NewRequestForm user = { currentUser }\r\n                                    showModal = { showModalMessage }\r\n                                    db = { db }\r\n                                    auth = { auth }\r\n                                    />} {\r\n                                        currentPage === 'view-request' && < RequestApprovalForm user = { currentUser }\r\n                                        request = { selectedRequest }\r\n                                        showModal = { showModalMessage }\r\n                                        db = { db }\r\n                                        auth = { auth }\r\n                                        />} <\r\n                                        /main> <\r\n                                        /div> <\r\n                                        Modal show = { showModal }\r\n                                        onClose = {\r\n                                            () => setShowModal(false) }\r\n                                        title = \"Notification\"\r\n                                        message = { modalContent }\r\n                                        /> <\r\n                                        /div>\r\n                                    );\r\n                                }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}