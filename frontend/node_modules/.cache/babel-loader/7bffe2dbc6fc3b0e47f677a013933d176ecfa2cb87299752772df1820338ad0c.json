{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously } from 'firebase/auth';\nimport { getFirestore, doc, setDoc, getDoc, collection, query, onSnapshot } from 'firebase/firestore';\nimport Header from './components/Header';\nimport Sidebar from './components/Sidebar';\nimport Modal from './components/Modal';\nimport LoginForm from './components/LoginForm';\nimport DashboardPage from './pages/DashboardPage';\nimport ReportsPage from './pages/ReportsPage';\nimport NewRequestForm from './pages/NewRequestForm';\nimport RequestApprovalForm from './pages/RequestApprovalForm';\n\n// The following global variables are provided by the Canvas environment.\n// We must always use them for Firebase setup.\n// eslint-disable-next-line no-undef\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\n// eslint-disable-next-line no-undef\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\n// eslint-disable-next-line no-undef\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\nexport default function App() {\n  _s();\n  const [db, setDb] = useState(null);\n  const [auth, setAuth] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authReady, setAuthReady] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [requests, setRequests] = useState([]);\n  const [locations, setLocations] = useState({\n    regions: [],\n    zones: [],\n    woredas: []\n  });\n  const [currentPage, setCurrentPage] = useState('dashboard');\n  const [showModal, setShowModal] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const [selectedRequest, setSelectedRequest] = useState(null);\n\n  // Initialize Firebase and set up auth state listener\n  useEffect(() => {\n    try {\n      const app = initializeApp(firebaseConfig);\n      const firestore = getFirestore(app);\n      const authentication = getAuth(app);\n      setDb(firestore);\n      setAuth(authentication);\n      const unsubscribeAuth = onAuthStateChanged(authentication, async user => {\n        if (user) {\n          setCurrentUser(user);\n          const userRef = doc(firestore, 'artifacts', appId, 'users', user.uid);\n          const userSnap = await getDoc(userRef);\n          if (userSnap.exists()) {\n            setCurrentUser(prev => ({\n              ...prev,\n              ...userSnap.data()\n            }));\n          }\n          setAuthReady(true);\n        } else {\n          try {\n            if (initialAuthToken) {\n              await signInWithCustomToken(authentication, initialAuthToken);\n            } else {\n              await signInAnonymously(authentication);\n            }\n          } catch (error) {\n            console.error('Authentication Error:', error);\n          }\n        }\n      });\n      return () => unsubscribeAuth();\n    } catch (error) {\n      console.error('Firebase initialization error:', error);\n      // Handle initialization error gracefully\n      setLoading(false);\n    }\n  }, [firebaseConfig, initialAuthToken]);\n\n  // Fetch locations from Firestore\n  useEffect(() => {\n    if (!authReady || !db) return;\n    const locationsRef = collection(db, 'artifacts', appId, 'public', 'data', 'locations');\n    const unsubscribeLocations = onSnapshot(locationsRef, snapshot => {\n      const fetchedLocations = {\n        regions: [],\n        zones: [],\n        woredas: []\n      };\n      snapshot.docs.forEach(doc => {\n        const data = doc.data();\n        if (data.type === 'region') fetchedLocations.regions.push(data);\n        if (data.type === 'zone') fetchedLocations.zones.push(data);\n        if (data.type === 'woreda') fetchedLocations.woredas.push(data);\n      });\n      setLocations(fetchedLocations);\n      setLoading(false);\n    });\n    return () => unsubscribeLocations();\n  }, [authReady, db]);\n\n  // Fetch requests from Firestore\n  useEffect(() => {\n    if (!authReady || !currentUser || !db) return;\n    const requestsRef = collection(db, 'artifacts', appId, 'public', 'data', 'requests');\n    const q = query(requestsRef);\n    const unsubscribeRequests = onSnapshot(q, snapshot => {\n      const fetchedRequests = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setRequests(fetchedRequests);\n    });\n    return () => unsubscribeRequests();\n  }, [authReady, currentUser, db]);\n  const showModalMessage = message => {\n    setModalContent(message);\n    setShowModal(true);\n  };\n  const handleLogin = async userCredentials => {\n    let userId;\n    if (auth.currentUser) {\n      userId = auth.currentUser.uid;\n    } else {\n      userId = crypto.randomUUID();\n    }\n    const userRef = doc(db, 'artifacts', appId, 'users', userId);\n    const userData = {\n      role: userCredentials.role,\n      locationLevel: userCredentials.locationLevel,\n      locationId: userCredentials.locationId\n    };\n    try {\n      await setDoc(userRef, userData, {\n        merge: true\n      });\n      setCurrentUser(prev => ({\n        ...prev,\n        ...userData\n      }));\n      showModalMessage('Login successful!');\n    } catch (error) {\n      console.error('Error setting user data:', error);\n      showModalMessage('Failed to set user data. Please try again.');\n    }\n  };\n  const handleViewRequest = request => {\n    setSelectedRequest(request);\n    setCurrentPage('view-request');\n  };\n  const getPendingRequests = () => requests.filter(req => req.status === 'Pending');\n  const getApprovedRequests = () => requests.filter(req => req.status === 'Approved');\n  const getRejectedRequests = () => requests.filter(req => req.status === 'Rejected');\n  if (loading || !authReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: \" Loading... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 16\n    }, this);\n  }\n  if (!currentUser || !currentUser.role) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {\n      onLogin: handleLogin,\n      locations: locations,\n      showModal: showModalMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex min-h-screen bg-gray-100 font-sans antialiased\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      currentPage: currentPage,\n      setCurrentPage: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        user: currentUser,\n        auth: auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 p-8\",\n        children: [\" \", currentPage === 'dashboard' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: requests,\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 48\n        }, this), \" \", currentPage === 'pending-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getPendingRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 59\n        }, this), \" \", currentPage === 'approved-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getApprovedRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 64\n        }, this), \" \", currentPage === 'rejected-requests' && /*#__PURE__*/_jsxDEV(DashboardPage, {\n          user: currentUser,\n          requests: getRejectedRequests(),\n          onViewRequest: handleViewRequest\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 68\n        }, this), \" \", currentPage === 'reports' && /*#__PURE__*/_jsxDEV(ReportsPage, {\n          user: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 62\n        }, this), \" \", currentPage === 'new-request' && /*#__PURE__*/_jsxDEV(NewRequestForm, {\n          user: currentUser,\n          showModal: showModalMessage,\n          db: db,\n          auth: auth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 70\n        }, this), \" \", currentPage === 'view-request' && /*#__PURE__*/_jsxDEV(RequestApprovalForm, {\n          user: currentUser,\n          request: selectedRequest,\n          showModal: showModalMessage,\n          db: db,\n          auth: auth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 75\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 16\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 16\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onClose: () => setShowModal(false),\n      title: \"Notification\",\n      message: modalContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 47\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 14\n  }, this);\n}\n_s(App, \"c8wRA5qMqIKL59KHMSi04zUxzJ4=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getAuth","signInWithCustomToken","onAuthStateChanged","signInAnonymously","getFirestore","doc","setDoc","getDoc","collection","query","onSnapshot","Header","Sidebar","Modal","LoginForm","DashboardPage","ReportsPage","NewRequestForm","RequestApprovalForm","jsxDEV","_jsxDEV","appId","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","App","_s","db","setDb","auth","setAuth","currentUser","setCurrentUser","authReady","setAuthReady","loading","setLoading","requests","setRequests","locations","setLocations","regions","zones","woredas","currentPage","setCurrentPage","showModal","setShowModal","modalContent","setModalContent","selectedRequest","setSelectedRequest","app","firestore","authentication","unsubscribeAuth","user","userRef","uid","userSnap","exists","prev","data","error","console","locationsRef","unsubscribeLocations","snapshot","fetchedLocations","docs","forEach","type","push","requestsRef","q","unsubscribeRequests","fetchedRequests","map","id","showModalMessage","message","handleLogin","userCredentials","userId","crypto","randomUUID","userData","role","locationLevel","locationId","merge","handleViewRequest","request","getPendingRequests","filter","req","status","getApprovedRequests","getRejectedRequests","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onViewRequest","show","onClose","title","_c","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously } from 'firebase/auth';\r\nimport { getFirestore, doc, setDoc, getDoc, collection, query, onSnapshot } from 'firebase/firestore';\r\nimport Header from './components/Header';\r\nimport Sidebar from './components/Sidebar';\r\nimport Modal from './components/Modal';\r\nimport LoginForm from './components/LoginForm';\r\nimport DashboardPage from './pages/DashboardPage';\r\nimport ReportsPage from './pages/ReportsPage';\r\nimport NewRequestForm from './pages/NewRequestForm';\r\nimport RequestApprovalForm from './pages/RequestApprovalForm';\r\n\r\n// The following global variables are provided by the Canvas environment.\r\n// We must always use them for Firebase setup.\r\n// eslint-disable-next-line no-undef\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\n// eslint-disable-next-line no-undef\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\n// eslint-disable-next-line no-undef\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\r\n\r\nexport default function App() {\r\n    const [db, setDb] = useState(null);\r\n    const [auth, setAuth] = useState(null);\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [authReady, setAuthReady] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [requests, setRequests] = useState([]);\r\n    const [locations, setLocations] = useState({ regions: [], zones: [], woredas: [] });\r\n    const [currentPage, setCurrentPage] = useState('dashboard');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [modalContent, setModalContent] = useState('');\r\n    const [selectedRequest, setSelectedRequest] = useState(null);\r\n\r\n    // Initialize Firebase and set up auth state listener\r\n    useEffect(() => {\r\n        try {\r\n            const app = initializeApp(firebaseConfig);\r\n            const firestore = getFirestore(app);\r\n            const authentication = getAuth(app);\r\n            setDb(firestore);\r\n            setAuth(authentication);\r\n\r\n            const unsubscribeAuth = onAuthStateChanged(authentication, async(user) => {\r\n                if (user) {\r\n                    setCurrentUser(user);\r\n                    const userRef = doc(firestore, 'artifacts', appId, 'users', user.uid);\r\n                    const userSnap = await getDoc(userRef);\r\n                    if (userSnap.exists()) {\r\n                        setCurrentUser(prev => ({...prev, ...userSnap.data() }));\r\n                    }\r\n                    setAuthReady(true);\r\n                } else {\r\n                    try {\r\n                        if (initialAuthToken) {\r\n                            await signInWithCustomToken(authentication, initialAuthToken);\r\n                        } else {\r\n                            await signInAnonymously(authentication);\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Authentication Error:', error);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return () => unsubscribeAuth();\r\n        } catch (error) {\r\n            console.error('Firebase initialization error:', error);\r\n            // Handle initialization error gracefully\r\n            setLoading(false);\r\n        }\r\n    }, [firebaseConfig, initialAuthToken]);\r\n\r\n\r\n    // Fetch locations from Firestore\r\n    useEffect(() => {\r\n        if (!authReady || !db) return;\r\n\r\n        const locationsRef = collection(db, 'artifacts', appId, 'public', 'data', 'locations');\r\n        const unsubscribeLocations = onSnapshot(locationsRef, (snapshot) => {\r\n            const fetchedLocations = { regions: [], zones: [], woredas: [] };\r\n            snapshot.docs.forEach(doc => {\r\n                const data = doc.data();\r\n                if (data.type === 'region') fetchedLocations.regions.push(data);\r\n                if (data.type === 'zone') fetchedLocations.zones.push(data);\r\n                if (data.type === 'woreda') fetchedLocations.woredas.push(data);\r\n            });\r\n            setLocations(fetchedLocations);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribeLocations();\r\n    }, [authReady, db]);\r\n\r\n    // Fetch requests from Firestore\r\n    useEffect(() => {\r\n        if (!authReady || !currentUser || !db) return;\r\n\r\n        const requestsRef = collection(db, 'artifacts', appId, 'public', 'data', 'requests');\r\n        const q = query(requestsRef);\r\n\r\n        const unsubscribeRequests = onSnapshot(q, (snapshot) => {\r\n            const fetchedRequests = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            setRequests(fetchedRequests);\r\n        });\r\n\r\n        return () => unsubscribeRequests();\r\n    }, [authReady, currentUser, db]);\r\n\r\n    const showModalMessage = (message) => {\r\n        setModalContent(message);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleLogin = async(userCredentials) => {\r\n        let userId;\r\n        if (auth.currentUser) {\r\n            userId = auth.currentUser.uid;\r\n        } else {\r\n            userId = crypto.randomUUID();\r\n        }\r\n\r\n        const userRef = doc(db, 'artifacts', appId, 'users', userId);\r\n\r\n        const userData = {\r\n            role: userCredentials.role,\r\n            locationLevel: userCredentials.locationLevel,\r\n            locationId: userCredentials.locationId,\r\n        };\r\n\r\n        try {\r\n            await setDoc(userRef, userData, { merge: true });\r\n            setCurrentUser(prev => ({...prev, ...userData }));\r\n            showModalMessage('Login successful!');\r\n        } catch (error) {\r\n            console.error('Error setting user data:', error);\r\n            showModalMessage('Failed to set user data. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleViewRequest = (request) => {\r\n        setSelectedRequest(request);\r\n        setCurrentPage('view-request');\r\n    };\r\n\r\n    const getPendingRequests = () => requests.filter(req => req.status === 'Pending');\r\n    const getApprovedRequests = () => requests.filter(req => req.status === 'Approved');\r\n    const getRejectedRequests = () => requests.filter(req => req.status === 'Rejected');\r\n\r\n    if (loading || !authReady) {\r\n        return <div className = \"flex items-center justify-center min-h-screen\" > Loading... < /div>;\r\n    }\r\n\r\n    if (!currentUser || !currentUser.role) {\r\n        return <LoginForm onLogin = { handleLogin }\r\n        locations = { locations }\r\n        showModal = { showModalMessage }\r\n        />;\r\n    }\r\n\r\n    return ( <\r\n            div className = \"flex min-h-screen bg-gray-100 font-sans antialiased\" >\r\n            <\r\n            Sidebar currentPage = { currentPage }\r\n            setCurrentPage = { setCurrentPage }\r\n            /> <\r\n            div className = \"flex-1 flex flex-col\" >\r\n            <\r\n            Header user = { currentUser }\r\n            auth = { auth }\r\n            /> <\r\n            main className = \"flex-1 p-8\" > {\r\n                currentPage === 'dashboard' && < DashboardPage user = { currentUser }\r\n                requests = { requests }\r\n                onViewRequest = { handleViewRequest }\r\n                />} {\r\n                    currentPage === 'pending-requests' && < DashboardPage user = { currentUser }\r\n                    requests = { getPendingRequests() }\r\n                    onViewRequest = { handleViewRequest }\r\n                    />} {\r\n                        currentPage === 'approved-requests' && < DashboardPage user = { currentUser }\r\n                        requests = { getApprovedRequests() }\r\n                        onViewRequest = { handleViewRequest }\r\n                        />} {\r\n                            currentPage === 'rejected-requests' && < DashboardPage user = { currentUser }\r\n                            requests = { getRejectedRequests() }\r\n                            onViewRequest = { handleViewRequest }\r\n                            />} {\r\n                                currentPage === 'reports' && < ReportsPage user = { currentUser }\r\n                                />} {\r\n                                    currentPage === 'new-request' && < NewRequestForm user = { currentUser }\r\n                                    showModal = { showModalMessage }\r\n                                    db = { db }\r\n                                    auth = { auth }\r\n                                    />} {\r\n                                        currentPage === 'view-request' && < RequestApprovalForm user = { currentUser }\r\n                                        request = { selectedRequest }\r\n                                        showModal = { showModalMessage }\r\n                                        db = { db }\r\n                                        auth = { auth }\r\n                                        />} <\r\n                                        /main> <\r\n                                        /div> <\r\n                                        Modal show = { showModal }\r\n                                        onClose = {\r\n                                            () => setShowModal(false) }\r\n                                        title = \"Notification\"\r\n                                        message = { modalContent }\r\n                                        /> <\r\n                                        /div>\r\n                                    );\r\n                                }"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,OAAO,EAAEC,qBAAqB,EAAEC,kBAAkB,EAAEC,iBAAiB,QAAQ,eAAe;AACrG,SAASC,YAAY,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAEC,UAAU,QAAQ,oBAAoB;AACrG,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,cAAc,MAAM,wBAAwB;AACnD,OAAOC,mBAAmB,MAAM,6BAA6B;;AAE7D;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,KAAK,GAAG,OAAOC,QAAQ,KAAK,WAAW,GAAGA,QAAQ,GAAG,gBAAgB;AAC3E;AACA,MAAMC,cAAc,GAAG,OAAOC,iBAAiB,KAAK,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACF,iBAAiB,CAAC,GAAG,CAAC,CAAC;AACpG;AACA,MAAMG,gBAAgB,GAAG,OAAOC,oBAAoB,KAAK,WAAW,GAAGA,oBAAoB,GAAG,EAAE;AAEhG,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC1B,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EAClC,MAAM,CAACoC,IAAI,EAAEC,OAAO,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACsC,WAAW,EAAEC,cAAc,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACwC,SAAS,EAAEC,YAAY,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0C,OAAO,EAAEC,UAAU,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC4C,QAAQ,EAAEC,WAAW,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC8C,SAAS,EAAEC,YAAY,CAAC,GAAG/C,QAAQ,CAAC;IAAEgD,OAAO,EAAE,EAAE;IAAEC,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC;EACnF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGpD,QAAQ,CAAC,WAAW,CAAC;EAC3D,MAAM,CAACqD,SAAS,EAAEC,YAAY,CAAC,GAAGtD,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuD,YAAY,EAAEC,eAAe,CAAC,GAAGxD,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyD,eAAe,EAAEC,kBAAkB,CAAC,GAAG1D,QAAQ,CAAC,IAAI,CAAC;;EAE5D;EACAC,SAAS,CAAC,MAAM;IACZ,IAAI;MACA,MAAM0D,GAAG,GAAGzD,aAAa,CAACwB,cAAc,CAAC;MACzC,MAAMkC,SAAS,GAAGrD,YAAY,CAACoD,GAAG,CAAC;MACnC,MAAME,cAAc,GAAG1D,OAAO,CAACwD,GAAG,CAAC;MACnCxB,KAAK,CAACyB,SAAS,CAAC;MAChBvB,OAAO,CAACwB,cAAc,CAAC;MAEvB,MAAMC,eAAe,GAAGzD,kBAAkB,CAACwD,cAAc,EAAE,MAAME,IAAI,IAAK;QACtE,IAAIA,IAAI,EAAE;UACNxB,cAAc,CAACwB,IAAI,CAAC;UACpB,MAAMC,OAAO,GAAGxD,GAAG,CAACoD,SAAS,EAAE,WAAW,EAAEpC,KAAK,EAAE,OAAO,EAAEuC,IAAI,CAACE,GAAG,CAAC;UACrE,MAAMC,QAAQ,GAAG,MAAMxD,MAAM,CAACsD,OAAO,CAAC;UACtC,IAAIE,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;YACnB5B,cAAc,CAAC6B,IAAI,KAAK;cAAC,GAAGA,IAAI;cAAE,GAAGF,QAAQ,CAACG,IAAI,CAAC;YAAE,CAAC,CAAC,CAAC;UAC5D;UACA5B,YAAY,CAAC,IAAI,CAAC;QACtB,CAAC,MAAM;UACH,IAAI;YACA,IAAIX,gBAAgB,EAAE;cAClB,MAAM1B,qBAAqB,CAACyD,cAAc,EAAE/B,gBAAgB,CAAC;YACjE,CAAC,MAAM;cACH,MAAMxB,iBAAiB,CAACuD,cAAc,CAAC;YAC3C;UACJ,CAAC,CAAC,OAAOS,KAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;UACjD;QACJ;MACJ,CAAC,CAAC;MAEF,OAAO,MAAMR,eAAe,CAAC,CAAC;IAClC,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD;MACA3B,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACjB,cAAc,EAAEI,gBAAgB,CAAC,CAAC;;EAGtC;EACA7B,SAAS,CAAC,MAAM;IACZ,IAAI,CAACuC,SAAS,IAAI,CAACN,EAAE,EAAE;IAEvB,MAAMsC,YAAY,GAAG7D,UAAU,CAACuB,EAAE,EAAE,WAAW,EAAEV,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,WAAW,CAAC;IACtF,MAAMiD,oBAAoB,GAAG5D,UAAU,CAAC2D,YAAY,EAAGE,QAAQ,IAAK;MAChE,MAAMC,gBAAgB,GAAG;QAAE3B,OAAO,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,OAAO,EAAE;MAAG,CAAC;MAChEwB,QAAQ,CAACE,IAAI,CAACC,OAAO,CAACrE,GAAG,IAAI;QACzB,MAAM6D,IAAI,GAAG7D,GAAG,CAAC6D,IAAI,CAAC,CAAC;QACvB,IAAIA,IAAI,CAACS,IAAI,KAAK,QAAQ,EAAEH,gBAAgB,CAAC3B,OAAO,CAAC+B,IAAI,CAACV,IAAI,CAAC;QAC/D,IAAIA,IAAI,CAACS,IAAI,KAAK,MAAM,EAAEH,gBAAgB,CAAC1B,KAAK,CAAC8B,IAAI,CAACV,IAAI,CAAC;QAC3D,IAAIA,IAAI,CAACS,IAAI,KAAK,QAAQ,EAAEH,gBAAgB,CAACzB,OAAO,CAAC6B,IAAI,CAACV,IAAI,CAAC;MACnE,CAAC,CAAC;MACFtB,YAAY,CAAC4B,gBAAgB,CAAC;MAC9BhC,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;IAEF,OAAO,MAAM8B,oBAAoB,CAAC,CAAC;EACvC,CAAC,EAAE,CAACjC,SAAS,EAAEN,EAAE,CAAC,CAAC;;EAEnB;EACAjC,SAAS,CAAC,MAAM;IACZ,IAAI,CAACuC,SAAS,IAAI,CAACF,WAAW,IAAI,CAACJ,EAAE,EAAE;IAEvC,MAAM8C,WAAW,GAAGrE,UAAU,CAACuB,EAAE,EAAE,WAAW,EAAEV,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC;IACpF,MAAMyD,CAAC,GAAGrE,KAAK,CAACoE,WAAW,CAAC;IAE5B,MAAME,mBAAmB,GAAGrE,UAAU,CAACoE,CAAC,EAAGP,QAAQ,IAAK;MACpD,MAAMS,eAAe,GAAGT,QAAQ,CAACE,IAAI,CAACQ,GAAG,CAAC5E,GAAG,KAAK;QAC9C6E,EAAE,EAAE7E,GAAG,CAAC6E,EAAE;QACV,GAAG7E,GAAG,CAAC6D,IAAI,CAAC;MAChB,CAAC,CAAC,CAAC;MACHxB,WAAW,CAACsC,eAAe,CAAC;IAChC,CAAC,CAAC;IAEF,OAAO,MAAMD,mBAAmB,CAAC,CAAC;EACtC,CAAC,EAAE,CAAC1C,SAAS,EAAEF,WAAW,EAAEJ,EAAE,CAAC,CAAC;EAEhC,MAAMoD,gBAAgB,GAAIC,OAAO,IAAK;IAClC/B,eAAe,CAAC+B,OAAO,CAAC;IACxBjC,YAAY,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMkC,WAAW,GAAG,MAAMC,eAAe,IAAK;IAC1C,IAAIC,MAAM;IACV,IAAItD,IAAI,CAACE,WAAW,EAAE;MAClBoD,MAAM,GAAGtD,IAAI,CAACE,WAAW,CAAC2B,GAAG;IACjC,CAAC,MAAM;MACHyB,MAAM,GAAGC,MAAM,CAACC,UAAU,CAAC,CAAC;IAChC;IAEA,MAAM5B,OAAO,GAAGxD,GAAG,CAAC0B,EAAE,EAAE,WAAW,EAAEV,KAAK,EAAE,OAAO,EAAEkE,MAAM,CAAC;IAE5D,MAAMG,QAAQ,GAAG;MACbC,IAAI,EAAEL,eAAe,CAACK,IAAI;MAC1BC,aAAa,EAAEN,eAAe,CAACM,aAAa;MAC5CC,UAAU,EAAEP,eAAe,CAACO;IAChC,CAAC;IAED,IAAI;MACA,MAAMvF,MAAM,CAACuD,OAAO,EAAE6B,QAAQ,EAAE;QAAEI,KAAK,EAAE;MAAK,CAAC,CAAC;MAChD1D,cAAc,CAAC6B,IAAI,KAAK;QAAC,GAAGA,IAAI;QAAE,GAAGyB;MAAS,CAAC,CAAC,CAAC;MACjDP,gBAAgB,CAAC,mBAAmB,CAAC;IACzC,CAAC,CAAC,OAAOhB,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDgB,gBAAgB,CAAC,4CAA4C,CAAC;IAClE;EACJ,CAAC;EAED,MAAMY,iBAAiB,GAAIC,OAAO,IAAK;IACnCzC,kBAAkB,CAACyC,OAAO,CAAC;IAC3B/C,cAAc,CAAC,cAAc,CAAC;EAClC,CAAC;EAED,MAAMgD,kBAAkB,GAAGA,CAAA,KAAMxD,QAAQ,CAACyD,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,KAAK,SAAS,CAAC;EACjF,MAAMC,mBAAmB,GAAGA,CAAA,KAAM5D,QAAQ,CAACyD,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,KAAK,UAAU,CAAC;EACnF,MAAME,mBAAmB,GAAGA,CAAA,KAAM7D,QAAQ,CAACyD,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,KAAK,UAAU,CAAC;EAEnF,IAAI7D,OAAO,IAAI,CAACF,SAAS,EAAE;IACvB,oBAAOjB,OAAA;MAAKmF,SAAS,EAAG,+CAA+C;MAAAC,QAAA,EAAE;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAChG;EAEA,IAAI,CAACzE,WAAW,IAAI,CAACA,WAAW,CAACwD,IAAI,EAAE;IACnC,oBAAOvE,OAAA,CAACN,SAAS;MAAC+F,OAAO,EAAKxB,WAAa;MAC3C1C,SAAS,EAAKA,SAAW;MACzBO,SAAS,EAAKiC;IAAkB;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CAAC;EACN;EAEA,oBAASxF,OAAA;IACGmF,SAAS,EAAG,qDAAqD;IAAAC,QAAA,gBACrEpF,OAAA,CACAR,OAAO;MAACoC,WAAW,EAAKA,WAAa;MACrCC,cAAc,EAAKA;IAAgB;MAAAwD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,KAAC,eAAAxF,OAAA;MACCmF,SAAS,EAAG,sBAAsB;MAAAC,QAAA,gBACtCpF,OAAA,CACAT,MAAM;QAACiD,IAAI,EAAKzB,WAAa;QAC7BF,IAAI,EAAKA;MAAM;QAAAwE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC,KAAC,eAAAxF,OAAA;QACEmF,SAAS,EAAG,YAAY;QAAAC,QAAA,GAAE,GAAC,EAC5BxD,WAAW,KAAK,WAAW,iBAAI5B,OAAA,CAAEL,aAAa;UAAC6C,IAAI,EAAKzB,WAAa;UACrEM,QAAQ,EAAKA,QAAU;UACvBqE,aAAa,EAAKf;QAAmB;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,kBAAkB,iBAAI5B,OAAA,CAAEL,aAAa;UAAC6C,IAAI,EAAKzB,WAAa;UAC5EM,QAAQ,EAAKwD,kBAAkB,CAAC,CAAG;UACnCa,aAAa,EAAKf;QAAmB;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,mBAAmB,iBAAI5B,OAAA,CAAEL,aAAa;UAAC6C,IAAI,EAAKzB,WAAa;UAC7EM,QAAQ,EAAK4D,mBAAmB,CAAC,CAAG;UACpCS,aAAa,EAAKf;QAAmB;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,mBAAmB,iBAAI5B,OAAA,CAAEL,aAAa;UAAC6C,IAAI,EAAKzB,WAAa;UAC7EM,QAAQ,EAAK6D,mBAAmB,CAAC,CAAG;UACpCQ,aAAa,EAAKf;QAAmB;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,SAAS,iBAAI5B,OAAA,CAAEJ,WAAW;UAAC4C,IAAI,EAAKzB;QAAa;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,aAAa,iBAAI5B,OAAA,CAAEH,cAAc;UAAC2C,IAAI,EAAKzB,WAAa;UACxEe,SAAS,EAAKiC,gBAAkB;UAChCpD,EAAE,EAAKA,EAAI;UACXE,IAAI,EAAKA;QAAM;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,EAAC,GAAC,EACA5D,WAAW,KAAK,cAAc,iBAAI5B,OAAA,CAAEF,mBAAmB;UAAC0C,IAAI,EAAKzB,WAAa;UAC9E6D,OAAO,EAAK1C,eAAiB;UAC7BJ,SAAS,EAAKiC,gBAAkB;UAChCpD,EAAE,EAAKA,EAAI;UACXE,IAAI,EAAKA;QAAM;UAAAwE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,EAAC,GAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,KAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,KAAC,eAAAxF,OAAA,CACNP,KAAK;MAACkG,IAAI,EAAK7D,SAAW;MAC1B8D,OAAO,EACHA,CAAA,KAAM7D,YAAY,CAAC,KAAK,CAAG;MAC/B8D,KAAK,EAAG,cAAc;MACtB7B,OAAO,EAAKhC;IAAc;MAAAqD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,KAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEb;AAAC9E,EAAA,CAjMTD,GAAG;AAAAqF,EAAA,GAAHrF,GAAG;AAAA,IAAAqF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}