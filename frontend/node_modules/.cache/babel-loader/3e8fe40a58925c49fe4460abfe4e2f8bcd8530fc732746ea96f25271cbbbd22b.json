{"ast":null,"code":"var _jsxFileName = \"D:\\\\FARMERS\\\\frontend\\\\src\\\\App.js\",\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously } from 'firebase/auth';\nimport { getFirestore, doc, setDoc, collection, query, onSnapshot, serverTimestamp, addDoc, updateDoc } from 'firebase/firestore';\nimport { useForm } from 'react-hook-form';\nimport { FaSignOutAlt, FaUser, FaClipboardList, FaFileSignature, FaSeedling, FaTruck } from 'react-icons/fa';\n\n// The following global variables are provided by the Canvas environment.\n// We must always use them for Firebase setup.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\n\n// ----------------------\n// Firebase Initialization\n// ----------------------\n// Initialize Firebase app and services\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\n\n// Mock User Data for demonstration\nconst users = [{\n  email: 'admin@example.com',\n  password: 'password',\n  role: 'admin'\n}, {\n  email: 'manager@example.com',\n  password: 'password',\n  role: 'manager'\n}, {\n  email: 'farmer1@example.com',\n  password: 'password',\n  role: 'farmer'\n}, {\n  email: 'farmer2@example.com',\n  password: 'password',\n  role: 'farmer'\n}];\n\n// ----------------------\n// Main App Component\n// ----------------------\nexport default function App() {\n  _s4();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [authReady, setAuthReady] = useState(false);\n  const [requests, setRequests] = useState([]);\n  const [locations, setLocations] = useState({\n    regions: [],\n    zones: [],\n    warehouses: []\n  });\n  const [showModal, setShowModal] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const userId = currentUser ? currentUser.uid : null;\n  const userRole = currentUser ? currentUser.role : null;\n  const Modal = ({\n    show,\n    onClose,\n    title,\n    message\n  }) => {\n    if (!show) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: [\" \", title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-700 mb-6\",\n          children: [\" \", message, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 90\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"px-4 py-2 bg-indigo-600 text-white font-medium text-sm rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\n            children: \"Close \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 68\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 18\n    }, this);\n  };\n\n  // Firebase Auth and Data Listeners\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        // If a user is authenticated via Canvas, we'll try to find their mock role\n        const mockUser = users.find(u => u.email === user.email);\n        if (mockUser) {\n          setCurrentUser({\n            ...user,\n            role: mockUser.role\n          });\n        } else {\n          // Default to 'farmer' for any other authenticated user\n          setCurrentUser({\n            ...user,\n            role: 'farmer'\n          });\n        }\n      } else {\n        setCurrentUser(null);\n      }\n      setAuthReady(true);\n    });\n    const initializeAuth = async () => {\n      try {\n        if (initialAuthToken) {\n          await signInWithCustomToken(auth, initialAuthToken);\n        } else {\n          await signInAnonymously(auth);\n        }\n      } catch (error) {\n        console.error(\"Firebase Auth Error:\", error);\n      }\n    };\n    if (!auth.currentUser) {\n      initializeAuth();\n    }\n    return () => unsubscribe();\n  }, [auth, initialAuthToken]);\n\n  // Data Subscription Hook\n  useEffect(() => {\n    if (!authReady || !userId) return;\n    const privateRequestsPath = `artifacts/${appId}/users/${userId}/requests`;\n    const privateLocationsPath = `artifacts/${appId}/users/${userId}/locations`;\n    const unsubscribeRequests = onSnapshot(collection(db, privateRequestsPath), snapshot => {\n      const fetchedRequests = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setRequests(fetchedRequests);\n    }, error => {\n      console.error(\"Error fetching requests:\", error);\n    });\n    const unsubscribeLocations = onSnapshot(collection(db, privateLocationsPath), snapshot => {\n      const fetchedLocations = {\n        regions: [],\n        zones: [],\n        warehouses: []\n      };\n      snapshot.docs.forEach(doc => {\n        const data = doc.data();\n        if (data.type === 'region') fetchedLocations.regions.push(data.name);\n        if (data.type === 'zone') fetchedLocations.zones.push(data.name);\n        if (data.type === 'warehouse') fetchedLocations.warehouses.push(data.name);\n      });\n      setLocations(fetchedLocations);\n    }, error => {\n      console.error(\"Error fetching locations:\", error);\n    });\n    return () => {\n      unsubscribeRequests();\n      unsubscribeLocations();\n    };\n  }, [authReady, userId]);\n  const handleLogin = (email, password) => {\n    const user = users.find(u => u.email === email && u.password === password);\n    if (user) {\n      // Mock sign-in. In a real app, this would be a Firebase call.\n      setCurrentUser({\n        uid: `mock-${user.email}`,\n        email: user.email,\n        role: user.role\n      });\n      setShowModal(true);\n      setModalContent(`Welcome, ${user.role}! You have successfully logged in.`);\n    } else {\n      setShowModal(true);\n      setModalContent('Invalid credentials. Please try again.');\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      // In a real app, you would sign out from Firebase.\n      // For our mock users, we just clear the state.\n      setCurrentUser(null);\n      setShowModal(true);\n      setModalContent('You have been logged out.');\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n  };\n  const Header = ({\n    userRole,\n    onLogout\n  }) => /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-gray-800 text-white p-4 shadow-md flex justify-between items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold\",\n        children: \" Warehouse Portal \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bg-indigo-600 text-xs font-semibold px-2 py-1 rounded-full\",\n        children: [\" \", userRole ? userRole.toUpperCase() : 'GUEST', \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 74\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4\",\n      children: [\" \", userId && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm\",\n        children: [\" User: \", currentUser.email, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 27\n      }, this), \" \", userRole && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        className: \"text-gray-300 hover:text-white transition duration-150 ease-in-out\",\n        children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n          className: \"inline-block mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), \"Logout \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 35\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 50\n  }, this);\n  const NewRequestForm = () => {\n    _s();\n    const {\n      register,\n      handleSubmit,\n      reset,\n      watch,\n      setValue,\n      formState: {\n        errors\n      }\n    } = useForm();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isGeminiLoading, setIsGeminiLoading] = useState(false);\n    const onSubmit = async data => {\n      setIsSubmitting(true);\n      try {\n        if (!userId) {\n          setShowModal(true);\n          setModalContent('Please log in to submit a request.');\n          setIsSubmitting(false);\n          return;\n        }\n        const privateRequestsPath = `artifacts/${appId}/users/${userId}/requests`;\n        await addDoc(collection(db, privateRequestsPath), {\n          ...data,\n          status: 'pending',\n          createdAt: serverTimestamp(),\n          requesterId: userId\n        });\n        setShowModal(true);\n        setModalContent('Request submitted successfully!');\n        reset();\n      } catch (e) {\n        console.error(\"Error adding document: \", e);\n        setShowModal(true);\n        setModalContent('Failed to submit request. Please try again.');\n      } finally {\n        setIsSubmitting(false);\n      }\n    };\n    const generateDescription = async () => {\n      const subject = watch('subject');\n      const currentDescription = watch('description');\n      if (!subject) {\n        setShowModal(true);\n        setModalContent('Please enter a subject before using this feature.');\n        return;\n      }\n      setIsGeminiLoading(true);\n      try {\n        // Construct the prompt for the Gemini API\n        const prompt = `Elaborate on the following warehouse request subject and description to create a more detailed and professional description. Be specific and include details that would be helpful for an approver.\n                Subject: ${subject}\n                Description: ${currentDescription || ''}\n                New Description:`;\n        const chatHistory = [{\n          role: \"user\",\n          parts: [{\n            text: prompt\n          }]\n        }];\n        const payload = {\n          contents: chatHistory\n        };\n        const apiKey = \"\";\n        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\n        const response = await fetch(apiUrl, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        const result = await response.json();\n        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n          const text = result.candidates[0].content.parts[0].text;\n          setValue('description', text);\n        } else {\n          console.error(\"Gemini API response error:\", result);\n          setShowModal(true);\n          setModalContent('Could not generate a description. Please try again.');\n        }\n      } catch (error) {\n        console.error(\"Error calling Gemini API:\", error);\n        setShowModal(true);\n        setModalContent('An error occurred while communicating with the AI.');\n      } finally {\n        setIsGeminiLoading(false);\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto p-8 bg-gray-800 rounded-xl shadow-lg my-8 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-6 text-center\",\n        children: \" New Request \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 29\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"subject\",\n            className: \"block text-sm font-medium text-gray-300\",\n            children: \"Subject \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"subject\",\n            ...register('subject', {\n              required: 'Subject is required'\n            }),\n            className: \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 37\n          }, this), \" \", errors.subject && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-red-500\",\n            children: [\" \", errors.subject.message, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 51\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              className: \"block text-sm font-medium text-gray-300\",\n              children: \"Description \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 33\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: generateDescription,\n              disabled: isGeminiLoading,\n              className: \"px-3 py-1 bg-indigo-600 text-white font-medium text-xs rounded-lg hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-150 ease-in-out\",\n              children: [isGeminiLoading ? 'Generating...' : 'âœ¨ Elaborate on Description', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 41\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 33\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            ...register('description', {\n              required: 'Description is required'\n            }),\n            rows: \"4\",\n            className: \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 39\n          }, this), \" \", errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-red-500\",\n            children: [\" \", errors.description.message, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 59\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"region\",\n            className: \"block text-sm font-medium text-gray-300\",\n            children: \"Region \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 37\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"region\",\n            ...register('region', {\n              required: 'Region is required'\n            }),\n            className: \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \" Select Region \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 37\n            }, this), \" \", locations.regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: region,\n              children: [\" \", region, \" \"]\n            }, region, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 75\n            }, this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 45\n          }, this), \" \", errors.region && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-red-500\",\n            children: [\" \", errors.region.message, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 58\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 37\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"zone\",\n            className: \"block text-sm font-medium text-gray-300\",\n            children: \"Zone \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 45\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"zone\",\n            ...register('zone', {\n              required: 'Zone is required'\n            }),\n            className: \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \" Select Zone \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 45\n            }, this), \" \", locations.zones.map(zone => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: zone,\n              children: [\" \", zone, \" \"]\n            }, zone, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 79\n            }, this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 53\n          }, this), \" \", errors.zone && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-red-500\",\n            children: [\" \", errors.zone.message, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 64\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 51\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"warehouse\",\n            className: \"block text-sm font-medium text-gray-300\",\n            children: \"Warehouse \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 53\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"warehouse\",\n            ...register('warehouse', {\n              required: 'Warehouse is required'\n            }),\n            className: \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \" Select Warehouse \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 53\n            }, this), \" \", locations.warehouses.map(warehouse => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: warehouse,\n              children: [\" \", warehouse, \" \"]\n            }, warehouse, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 97\n            }, this)), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 61\n          }, this), \" \", errors.warehouse && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-red-500\",\n            children: [\" \", errors.warehouse.message, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 77\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isSubmitting,\n            className: \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400\",\n            children: [isSubmitting ? 'Submitting...' : 'Submit Request', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 61\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 57\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 103\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 30\n    }, this);\n  };\n  _s(NewRequestForm, \"ADyayHg3URwvdAD8c8jQ4S58bpg=\", false, function () {\n    return [useForm];\n  });\n  const AdminManagerDashboard = () => {\n    _s2();\n    const [selectedRequest, setSelectedRequest] = useState(null);\n    const [isProcessing, setIsProcessing] = useState(false);\n    const handleStatusChange = async status => {\n      if (!selectedRequest) return;\n      setIsProcessing(true);\n      try {\n        if (!userId) {\n          setShowModal(true);\n          setModalContent('Authentication failed. Please log in again.');\n          setIsProcessing(false);\n          return;\n        }\n        const docRef = doc(db, `artifacts/${appId}/users/${userId}/requests`, selectedRequest.id);\n        await updateDoc(docRef, {\n          status,\n          approvedBy: userId,\n          approvedAt: serverTimestamp()\n        });\n        setShowModal(true);\n        setModalContent(`Request '${selectedRequest.subject}' has been ${status}.`);\n        setSelectedRequest(null);\n      } catch (e) {\n        console.error(`Error updating request status:`, e);\n        setShowModal(true);\n        setModalContent('Failed to update request status. Please try again.');\n      } finally {\n        setIsProcessing(false);\n      }\n    };\n    const SummaryCard = ({\n      title,\n      count,\n      color,\n      icon\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex flex-col items-center justify-center p-6 rounded-xl shadow-lg ${color} text-white`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-3xl mb-2\",\n        children: [\" \", icon, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 49\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold\",\n        children: [\" \", count, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 102\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-sm font-medium\",\n        children: [\" \", title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 104\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 102\n    }, this);\n    const pendingRequests = requests.filter(r => r.status === 'pending');\n    const approvedRequests = requests.filter(r => r.status === 'approved');\n    const rejectedRequests = requests.filter(r => r.status === 'rejected');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto p-8 my-8 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-200 mb-6 text-center\",\n        children: \" Admin Dashboard \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 49\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n          title: \"Total Pending\",\n          count: pendingRequests.length,\n          color: \"bg-yellow-600\",\n          icon: /*#__PURE__*/_jsxDEV(FaClipboardList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 49\n        }, this), \" \", /*#__PURE__*/_jsxDEV(SummaryCard, {\n          title: \"Total Approved\",\n          count: approvedRequests.length,\n          color: \"bg-green-600\",\n          icon: /*#__PURE__*/_jsxDEV(FaFileSignature, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 52\n        }, this), \" \", /*#__PURE__*/_jsxDEV(SummaryCard, {\n          title: \"Total Rejected\",\n          count: rejectedRequests.length,\n          color: \"bg-red-600\",\n          icon: /*#__PURE__*/_jsxDEV(FaTruck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 52\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 141\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-6 rounded-xl shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-200 mb-4\",\n          children: [\" Pending Requests(\", pendingRequests.length, \") \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 49\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 max-h-96 overflow-y-auto pr-2\",\n          children: [\" \", pendingRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 text-center\",\n            children: \" No pending requests to approve. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 86\n          }, this) : pendingRequests.map(req => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `bg-gray-700 p-4 rounded-lg shadow-md flex justify-between items-center cursor-pointer transition-colors duration-150 ease-in-out ${selectedRequest && selectedRequest.id === req.id ? 'border-2 border-indigo-500' : 'hover:bg-gray-600'}`,\n            onClick: () => setSelectedRequest(req),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-bold text-indigo-300\",\n                children: [\" \", req.subject, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 61\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400 mt-1\",\n                children: [\" Requester: \", req.requesterId.substring(0, 8), \"... \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 135\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-400\",\n                children: [\" Created: \", req.createdAt ? new Date(req.createdAt.toDate()).toLocaleString() : 'N/A', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 162\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 61\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: [\" \", req.region, \"/ \", req.zone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 67\n            }, this)]\n          }, req.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 86\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 157\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 55\n      }, this), selectedRequest && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-6 rounded-xl shadow-lg mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \" Request Details \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 57\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-700 p-6 rounded-lg space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-bold text-indigo-300\",\n            children: [\" \", selectedRequest.subject, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 57\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-300 text-sm\",\n            children: [\" \", selectedRequest.description, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 145\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: [\" Region: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-white\",\n                children: [\" \", selectedRequest.region, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 100\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: [\" Zone: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-white\",\n                children: [\" \", selectedRequest.zone, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 98\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: [\" Warehouse: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-white\",\n                children: [\" \", selectedRequest.warehouse, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 103\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 135\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStatusChange('approved'),\n              disabled: isProcessing,\n              className: \"flex-1 py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:bg-green-400\",\n              children: [isProcessing ? 'Processing...' : 'Approve', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 57\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStatusChange('rejected'),\n              disabled: isProcessing,\n              className: \"flex-1 py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:bg-red-400\",\n              children: [isProcessing ? 'Processing...' : 'Reject', \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 66\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 63\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 122\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 74\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 54\n    }, this);\n  };\n  _s2(AdminManagerDashboard, \"Cyfi+oPDGPQMrWiBQFjwiOVxDx0=\");\n  const FarmerDashboard = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-200 text-center my-8\",\n      children: \" Welcome, Farmer \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 45\n    }, this), \" \", /*#__PURE__*/_jsxDEV(NewRequestForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 137\n    }, this)]\n  }, void 0, true);\n  const Login = ({\n    onLogin\n  }) => {\n    _s3();\n    const {\n      register,\n      handleSubmit,\n      formState: {\n        errors\n      }\n    } = useForm();\n    const onSubmit = data => {\n      onLogin(data.email, data.password);\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-900\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-xl shadow-lg text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(FaSeedling, {\n            className: \"mx-auto h-12 w-auto text-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 53\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mt-6 text-3xl font-extrabold text-white\",\n            children: \"Sign in to your account \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 53\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-gray-400\",\n            children: \"Use the hardcoded credentials to test. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 58\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 53\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"mt-8 space-y-6\",\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"sr-only\",\n              children: \" Email address \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 53\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"email\",\n              name: \"email\",\n              type: \"email\",\n              ...register('email', {\n                required: 'Email is required'\n              }),\n              className: \"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 placeholder-gray-400 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n              placeholder: \"Email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 101\n            }, this), \" \", errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-red-500\",\n              children: [\" \", errors.email.message, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 73\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 53\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"sr-only\",\n              children: \" Password \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 57\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"password\",\n              name: \"password\",\n              type: \"password\",\n              ...register('password', {\n                required: 'Password is required'\n              }),\n              className: \"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 placeholder-gray-400 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\",\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 100\n            }, this), \" \", errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-red-500\",\n              children: [\" \", errors.password.message, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 80\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 63\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute left-0 inset-y-0 flex items-center pl-3\",\n                children: /*#__PURE__*/_jsxDEV(FaUser, {\n                  className: \"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 61\n              }, this), \"Sign in\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 61\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 67\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 59\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 53\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 58\n    }, this);\n  };\n  _s3(Login, \"cSudtlZF25wA1QXS6hk7TRnoNuU=\", false, function () {\n    return [useForm];\n  });\n  const renderDashboard = () => {\n    if (!currentUser) {\n      return /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 68\n      }, this);\n    }\n    switch (userRole) {\n      case 'admin':\n      case 'manager':\n        return /*#__PURE__*/_jsxDEV(AdminManagerDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 72\n        }, this);\n      case 'farmer':\n        return /*#__PURE__*/_jsxDEV(FarmerDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 72\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-white\",\n          children: \" Something went wrong. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 72\n        }, this);\n    }\n  };\n  if (!authReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-900 text-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 61\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 66\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 min-h-screen font-[Inter]\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      userRole: userRole,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 57\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4\",\n      children: [\" \", renderDashboard(), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 60\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onClose: () => setShowModal(false),\n      title: \"Notification\",\n      message: modalContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 64\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 622,\n    columnNumber: 62\n  }, this);\n}\n_s4(App, \"lk9j4yFXQcYnUbZOQCT++pTpPdk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","initializeApp","getAuth","signInWithCustomToken","onAuthStateChanged","signInAnonymously","getFirestore","doc","setDoc","collection","query","onSnapshot","serverTimestamp","addDoc","updateDoc","useForm","FaSignOutAlt","FaUser","FaClipboardList","FaFileSignature","FaSeedling","FaTruck","jsxDEV","_jsxDEV","Fragment","_Fragment","appId","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","app","db","auth","users","email","password","role","App","_s4","_s","$RefreshSig$","_s2","_s3","currentUser","setCurrentUser","authReady","setAuthReady","requests","setRequests","locations","setLocations","regions","zones","warehouses","showModal","setShowModal","modalContent","setModalContent","userId","uid","userRole","Modal","show","onClose","title","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","unsubscribe","user","mockUser","find","u","initializeAuth","error","console","privateRequestsPath","privateLocationsPath","unsubscribeRequests","snapshot","fetchedRequests","docs","map","id","data","unsubscribeLocations","fetchedLocations","forEach","type","push","name","handleLogin","handleLogout","Header","onLogout","toUpperCase","NewRequestForm","register","handleSubmit","reset","watch","setValue","formState","errors","isSubmitting","setIsSubmitting","isGeminiLoading","setIsGeminiLoading","onSubmit","status","createdAt","requesterId","e","generateDescription","subject","currentDescription","prompt","chatHistory","parts","text","payload","contents","apiKey","apiUrl","response","fetch","method","headers","body","stringify","result","json","candidates","length","content","htmlFor","required","disabled","rows","description","value","region","zone","warehouse","AdminManagerDashboard","selectedRequest","setSelectedRequest","isProcessing","setIsProcessing","handleStatusChange","docRef","approvedBy","approvedAt","SummaryCard","count","color","icon","pendingRequests","filter","r","approvedRequests","rejectedRequests","req","substring","Date","toDate","toLocaleString","FarmerDashboard","Login","onLogin","placeholder","renderDashboard","_c","$RefreshReg$"],"sources":["D:/FARMERS/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, signInWithCustomToken, onAuthStateChanged, signInAnonymously } from 'firebase/auth';\r\nimport { getFirestore, doc, setDoc, collection, query, onSnapshot, serverTimestamp, addDoc, updateDoc } from 'firebase/firestore';\r\nimport { useForm } from 'react-hook-form';\r\nimport { FaSignOutAlt, FaUser, FaClipboardList, FaFileSignature, FaSeedling, FaTruck } from 'react-icons/fa';\r\n\r\n// The following global variables are provided by the Canvas environment.\r\n// We must always use them for Firebase setup.\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\r\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : '';\r\n\r\n// ----------------------\r\n// Firebase Initialization\r\n// ----------------------\r\n// Initialize Firebase app and services\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\n\r\n// Mock User Data for demonstration\r\nconst users = [\r\n    { email: 'admin@example.com', password: 'password', role: 'admin' },\r\n    { email: 'manager@example.com', password: 'password', role: 'manager' },\r\n    { email: 'farmer1@example.com', password: 'password', role: 'farmer' },\r\n    { email: 'farmer2@example.com', password: 'password', role: 'farmer' },\r\n];\r\n\r\n// ----------------------\r\n// Main App Component\r\n// ----------------------\r\nexport default function App() {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [authReady, setAuthReady] = useState(false);\r\n    const [requests, setRequests] = useState([]);\r\n    const [locations, setLocations] = useState({ regions: [], zones: [], warehouses: [] });\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [modalContent, setModalContent] = useState('');\r\n\r\n    const userId = currentUser ? currentUser.uid : null;\r\n    const userRole = currentUser ? currentUser.role : null;\r\n\r\n    const Modal = ({ show, onClose, title, message }) => {\r\n        if (!show) return null;\r\n\r\n        return ( <\r\n            div className = \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50\" >\r\n            <\r\n            div className = \"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full\" >\r\n            <\r\n            h3 className = \"text-xl font-semibold text-gray-900 mb-4\" > { title } < /h3> <\r\n            p className = \"text-gray-700 mb-6\" > { message } < /p> <\r\n            div className = \"flex justify-end\" >\r\n            <\r\n            button onClick = { onClose }\r\n            className = \"px-4 py-2 bg-indigo-600 text-white font-medium text-sm rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\" >\r\n            Close <\r\n            /button> <\r\n            /div> <\r\n            /div> <\r\n            /div>\r\n        );\r\n    };\r\n\r\n    // Firebase Auth and Data Listeners\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async(user) => {\r\n            if (user) {\r\n                // If a user is authenticated via Canvas, we'll try to find their mock role\r\n                const mockUser = users.find(u => u.email === user.email);\r\n                if (mockUser) {\r\n                    setCurrentUser({...user, role: mockUser.role });\r\n                } else {\r\n                    // Default to 'farmer' for any other authenticated user\r\n                    setCurrentUser({...user, role: 'farmer' });\r\n                }\r\n            } else {\r\n                setCurrentUser(null);\r\n            }\r\n            setAuthReady(true);\r\n        });\r\n\r\n        const initializeAuth = async() => {\r\n            try {\r\n                if (initialAuthToken) {\r\n                    await signInWithCustomToken(auth, initialAuthToken);\r\n                } else {\r\n                    await signInAnonymously(auth);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Firebase Auth Error:\", error);\r\n            }\r\n        };\r\n\r\n        if (!auth.currentUser) {\r\n            initializeAuth();\r\n        }\r\n\r\n        return () => unsubscribe();\r\n    }, [auth, initialAuthToken]);\r\n\r\n\r\n    // Data Subscription Hook\r\n    useEffect(() => {\r\n        if (!authReady || !userId) return;\r\n\r\n        const privateRequestsPath = `artifacts/${appId}/users/${userId}/requests`;\r\n        const privateLocationsPath = `artifacts/${appId}/users/${userId}/locations`;\r\n\r\n        const unsubscribeRequests = onSnapshot(collection(db, privateRequestsPath), (snapshot) => {\r\n            const fetchedRequests = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            setRequests(fetchedRequests);\r\n        }, (error) => {\r\n            console.error(\"Error fetching requests:\", error);\r\n        });\r\n\r\n        const unsubscribeLocations = onSnapshot(collection(db, privateLocationsPath), (snapshot) => {\r\n            const fetchedLocations = { regions: [], zones: [], warehouses: [] };\r\n            snapshot.docs.forEach(doc => {\r\n                const data = doc.data();\r\n                if (data.type === 'region') fetchedLocations.regions.push(data.name);\r\n                if (data.type === 'zone') fetchedLocations.zones.push(data.name);\r\n                if (data.type === 'warehouse') fetchedLocations.warehouses.push(data.name);\r\n            });\r\n            setLocations(fetchedLocations);\r\n        }, (error) => {\r\n            console.error(\"Error fetching locations:\", error);\r\n        });\r\n\r\n        return () => {\r\n            unsubscribeRequests();\r\n            unsubscribeLocations();\r\n        };\r\n    }, [authReady, userId]);\r\n\r\n    const handleLogin = (email, password) => {\r\n        const user = users.find(u => u.email === email && u.password === password);\r\n        if (user) {\r\n            // Mock sign-in. In a real app, this would be a Firebase call.\r\n            setCurrentUser({ uid: `mock-${user.email}`, email: user.email, role: user.role });\r\n            setShowModal(true);\r\n            setModalContent(`Welcome, ${user.role}! You have successfully logged in.`);\r\n        } else {\r\n            setShowModal(true);\r\n            setModalContent('Invalid credentials. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleLogout = async() => {\r\n        try {\r\n            // In a real app, you would sign out from Firebase.\r\n            // For our mock users, we just clear the state.\r\n            setCurrentUser(null);\r\n            setShowModal(true);\r\n            setModalContent('You have been logged out.');\r\n        } catch (error) {\r\n            console.error('Error during logout:', error);\r\n        }\r\n    };\r\n\r\n    const Header = ({ userRole, onLogout }) => ( <\r\n            header className = \"bg-gray-800 text-white p-4 shadow-md flex justify-between items-center\" >\r\n            <\r\n            div className = \"flex items-center space-x-4\" >\r\n            <\r\n            h1 className = \"text-xl font-bold\" > Warehouse Portal < /h1> <\r\n            span className = \"bg-indigo-600 text-xs font-semibold px-2 py-1 rounded-full\" > { userRole ? userRole.toUpperCase() : 'GUEST' } < /span> <\r\n            /div> <\r\n            div className = \"flex items-center space-x-4\" > {\r\n                userId && < span className = \"text-sm\" > User: { currentUser.email } < /span>} {\r\n                    userRole && ( <\r\n                        button onClick = { onLogout }\r\n                        className = \"text-gray-300 hover:text-white transition duration-150 ease-in-out\" >\r\n                        <\r\n                        FaSignOutAlt className = \"inline-block mr-2\" / >\r\n                        Logout <\r\n                        /button>\r\n                    )\r\n                } <\r\n                /div> <\r\n                /header>\r\n            );\r\n\r\n            const NewRequestForm = () => {\r\n                    const { register, handleSubmit, reset, watch, setValue, formState: { errors } } = useForm();\r\n                    const [isSubmitting, setIsSubmitting] = useState(false);\r\n                    const [isGeminiLoading, setIsGeminiLoading] = useState(false);\r\n\r\n                    const onSubmit = async(data) => {\r\n                        setIsSubmitting(true);\r\n                        try {\r\n                            if (!userId) {\r\n                                setShowModal(true);\r\n                                setModalContent('Please log in to submit a request.');\r\n                                setIsSubmitting(false);\r\n                                return;\r\n                            }\r\n                            const privateRequestsPath = `artifacts/${appId}/users/${userId}/requests`;\r\n                            await addDoc(collection(db, privateRequestsPath), {\r\n                                ...data,\r\n                                status: 'pending',\r\n                                createdAt: serverTimestamp(),\r\n                                requesterId: userId,\r\n                            });\r\n                            setShowModal(true);\r\n                            setModalContent('Request submitted successfully!');\r\n                            reset();\r\n                        } catch (e) {\r\n                            console.error(\"Error adding document: \", e);\r\n                            setShowModal(true);\r\n                            setModalContent('Failed to submit request. Please try again.');\r\n                        } finally {\r\n                            setIsSubmitting(false);\r\n                        }\r\n                    };\r\n\r\n                    const generateDescription = async() => {\r\n                        const subject = watch('subject');\r\n                        const currentDescription = watch('description');\r\n                        if (!subject) {\r\n                            setShowModal(true);\r\n                            setModalContent('Please enter a subject before using this feature.');\r\n                            return;\r\n                        }\r\n\r\n                        setIsGeminiLoading(true);\r\n                        try {\r\n                            // Construct the prompt for the Gemini API\r\n                            const prompt = `Elaborate on the following warehouse request subject and description to create a more detailed and professional description. Be specific and include details that would be helpful for an approver.\r\n                Subject: ${subject}\r\n                Description: ${currentDescription || ''}\r\n                New Description:`;\r\n\r\n                            const chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\r\n                            const payload = { contents: chatHistory };\r\n                            const apiKey = \"\";\r\n                            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\r\n\r\n                            const response = await fetch(apiUrl, {\r\n                                method: 'POST',\r\n                                headers: { 'Content-Type': 'application/json' },\r\n                                body: JSON.stringify(payload)\r\n                            });\r\n                            const result = await response.json();\r\n\r\n                            if (result.candidates && result.candidates.length > 0 &&\r\n                                result.candidates[0].content && result.candidates[0].content.parts &&\r\n                                result.candidates[0].content.parts.length > 0) {\r\n                                const text = result.candidates[0].content.parts[0].text;\r\n                                setValue('description', text);\r\n                            } else {\r\n                                console.error(\"Gemini API response error:\", result);\r\n                                setShowModal(true);\r\n                                setModalContent('Could not generate a description. Please try again.');\r\n                            }\r\n                        } catch (error) {\r\n                            console.error(\"Error calling Gemini API:\", error);\r\n                            setShowModal(true);\r\n                            setModalContent('An error occurred while communicating with the AI.');\r\n                        } finally {\r\n                            setIsGeminiLoading(false);\r\n                        }\r\n                    };\r\n\r\n                    return ( <\r\n                            div className = \"max-w-2xl mx-auto p-8 bg-gray-800 rounded-xl shadow-lg my-8 text-white\" >\r\n                            <\r\n                            h2 className = \"text-2xl font-bold mb-6 text-center\" > New Request < /h2> <\r\n                            form onSubmit = { handleSubmit(onSubmit) }\r\n                            className = \"space-y-6\" >\r\n                            <\r\n                            div >\r\n                            <\r\n                            label htmlFor = \"subject\"\r\n                            className = \"block text-sm font-medium text-gray-300\" >\r\n                            Subject <\r\n                            /label> <\r\n                            input id = \"subject\" {...register('subject', { required: 'Subject is required' }) }\r\n                            className = \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\" /\r\n                            > {\r\n                                errors.subject && < p className = \"mt-2 text-sm text-red-500\" > { errors.subject.message } < /p>} <\r\n                                /div> <\r\n                                div >\r\n                                <\r\n                                div className = \"flex justify-between items-center mb-1\" >\r\n                                <\r\n                                label htmlFor = \"description\"\r\n                                className = \"block text-sm font-medium text-gray-300\" >\r\n                                Description <\r\n                                /label> <\r\n                                button\r\n                                type = \"button\"\r\n                                onClick = { generateDescription }\r\n                                disabled = { isGeminiLoading }\r\n                                className = \"px-3 py-1 bg-indigo-600 text-white font-medium text-xs rounded-lg hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-150 ease-in-out\" >\r\n                                { isGeminiLoading ? 'Generating...' : 'âœ¨ Elaborate on Description' } <\r\n                                /button> <\r\n                                /div> <\r\n                                textarea\r\n                                id = \"description\" {...register('description', { required: 'Description is required' }) }\r\n                                rows = \"4\"\r\n                                className = \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\" /\r\n                                > {\r\n                                    errors.description && < p className = \"mt-2 text-sm text-red-500\" > { errors.description.message } < /p>} <\r\n                                    /div>\r\n\r\n                                    <\r\n                                    div >\r\n                                    <\r\n                                    label htmlFor = \"region\"\r\n                                    className = \"block text-sm font-medium text-gray-300\" >\r\n                                    Region <\r\n                                    /label> <\r\n                                    select\r\n                                    id = \"region\" {...register('region', { required: 'Region is required' }) }\r\n                                    className = \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\" >\r\n                                    <\r\n                                    option value = \"\" > Select Region < /option> {\r\n                                        locations.regions.map(region => ( <\r\n                                            option key = { region }\r\n                                            value = { region } > { region } < /option>\r\n                                        ))\r\n                                    } <\r\n                                    /select> {\r\n                                        errors.region && < p className = \"mt-2 text-sm text-red-500\" > { errors.region.message } < /p>} <\r\n                                            /div> <\r\n                                            div >\r\n                                            <\r\n                                            label htmlFor = \"zone\"\r\n                                        className = \"block text-sm font-medium text-gray-300\" >\r\n                                            Zone <\r\n                                            /label> <\r\n                                            select\r\n                                        id = \"zone\" {...register('zone', { required: 'Zone is required' }) }\r\n                                        className = \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\" >\r\n                                            <\r\n                                            option value = \"\" > Select Zone < /option> {\r\n                                                locations.zones.map(zone => ( <\r\n                                                    option key = { zone }\r\n                                                    value = { zone } > { zone } < /option>\r\n                                                ))\r\n                                            } <\r\n                                            /select> {\r\n                                                errors.zone && < p className = \"mt-2 text-sm text-red-500\" > { errors.zone.message } < /p>} <\r\n                                                    /div> <\r\n                                                    div >\r\n                                                    <\r\n                                                    label htmlFor = \"warehouse\"\r\n                                                className = \"block text-sm font-medium text-gray-300\" >\r\n                                                    Warehouse <\r\n                                                    /label> <\r\n                                                    select\r\n                                                id = \"warehouse\" {...register('warehouse', { required: 'Warehouse is required' }) }\r\n                                                className = \"mt-1 block w-full rounded-md bg-gray-700 border-transparent text-white focus:border-indigo-500 focus:ring-indigo-500\" >\r\n                                                    <\r\n                                                    option value = \"\" > Select Warehouse < /option> {\r\n                                                        locations.warehouses.map(warehouse => ( <\r\n                                                            option key = { warehouse }\r\n                                                            value = { warehouse } > { warehouse } < /option>\r\n                                                        ))\r\n                                                    } <\r\n                                                    /select> {\r\n                                                        errors.warehouse && < p className = \"mt-2 text-sm text-red-500\" > { errors.warehouse.message } < /p>} <\r\n                                                            /div>\r\n\r\n                                                        <\r\n                                                        div >\r\n                                                            <\r\n                                                            button\r\n                                                        type = \"submit\"\r\n                                                        disabled = { isSubmitting }\r\n                                                        className = \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400\" >\r\n                                                            { isSubmitting ? 'Submitting...' : 'Submit Request' } <\r\n                                                            /button> <\r\n                                                            /div> <\r\n                                                            /form> <\r\n                                                            /div>\r\n                                                    );\r\n                                            };\r\n\r\n                                        const AdminManagerDashboard = () => {\r\n                                            const [selectedRequest, setSelectedRequest] = useState(null);\r\n                                            const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n                                            const handleStatusChange = async(status) => {\r\n                                                if (!selectedRequest) return;\r\n                                                setIsProcessing(true);\r\n                                                try {\r\n                                                    if (!userId) {\r\n                                                        setShowModal(true);\r\n                                                        setModalContent('Authentication failed. Please log in again.');\r\n                                                        setIsProcessing(false);\r\n                                                        return;\r\n                                                    }\r\n                                                    const docRef = doc(db, `artifacts/${appId}/users/${userId}/requests`, selectedRequest.id);\r\n                                                    await updateDoc(docRef, { status, approvedBy: userId, approvedAt: serverTimestamp() });\r\n                                                    setShowModal(true);\r\n                                                    setModalContent(`Request '${selectedRequest.subject}' has been ${status}.`);\r\n                                                    setSelectedRequest(null);\r\n                                                } catch (e) {\r\n                                                    console.error(`Error updating request status:`, e);\r\n                                                    setShowModal(true);\r\n                                                    setModalContent('Failed to update request status. Please try again.');\r\n                                                } finally {\r\n                                                    setIsProcessing(false);\r\n                                                }\r\n                                            };\r\n\r\n                                            const SummaryCard = ({ title, count, color, icon }) => ( <\r\n                                                div className = { `flex flex-col items-center justify-center p-6 rounded-xl shadow-lg ${color} text-white` } >\r\n                                                <\r\n                                                span className = \"text-3xl mb-2\" > { icon } < /span> <\r\n                                                h3 className = \"text-2xl font-bold\" > { count } < /h3> <\r\n                                                p className = \"mt-2 text-sm font-medium\" > { title } < /p> <\r\n                                                /div>\r\n                                            );\r\n\r\n                                            const pendingRequests = requests.filter(r => r.status === 'pending');\r\n                                            const approvedRequests = requests.filter(r => r.status === 'approved');\r\n                                            const rejectedRequests = requests.filter(r => r.status === 'rejected');\r\n\r\n                                            return ( <\r\n                                                div className = \"max-w-4xl mx-auto p-8 my-8 text-white\" >\r\n                                                <\r\n                                                h2 className = \"text-2xl font-bold text-gray-200 mb-6 text-center\" > Admin Dashboard < /h2> <\r\n                                                div className = \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\" >\r\n                                                <\r\n                                                SummaryCard title = \"Total Pending\"\r\n                                                count = { pendingRequests.length }\r\n                                                color = \"bg-yellow-600\"\r\n                                                icon = { < FaClipboardList / > }\r\n                                                /> <\r\n                                                SummaryCard title = \"Total Approved\"\r\n                                                count = { approvedRequests.length }\r\n                                                color = \"bg-green-600\"\r\n                                                icon = { < FaFileSignature / > }\r\n                                                /> <\r\n                                                SummaryCard title = \"Total Rejected\"\r\n                                                count = { rejectedRequests.length }\r\n                                                color = \"bg-red-600\"\r\n                                                icon = { < FaTruck / > }\r\n                                                /> <\r\n                                                /div> <\r\n                                                div className = \"bg-gray-800 p-6 rounded-xl shadow-lg\" >\r\n                                                <\r\n                                                h3 className = \"text-xl font-bold text-gray-200 mb-4\" > Pending Requests({ pendingRequests.length }) < /h3> <\r\n                                                div className = \"space-y-4 max-h-96 overflow-y-auto pr-2\" > {\r\n                                                    pendingRequests.length === 0 ? ( <\r\n                                                        p className = \"text-gray-400 text-center\" > No pending requests to approve. < /p>\r\n                                                    ) : (\r\n                                                        pendingRequests.map(req => ( <\r\n                                                            div key = { req.id }\r\n                                                            className = { `bg-gray-700 p-4 rounded-lg shadow-md flex justify-between items-center cursor-pointer transition-colors duration-150 ease-in-out ${selectedRequest && selectedRequest.id === req.id ? 'border-2 border-indigo-500' : 'hover:bg-gray-600'}` }\r\n                                                            onClick = {\r\n                                                                () => setSelectedRequest(req) } >\r\n                                                            <\r\n                                                            div >\r\n                                                            <\r\n                                                            p className = \"text-sm font-bold text-indigo-300\" > { req.subject } < /p> <\r\n                                                            p className = \"text-xs text-gray-400 mt-1\" > Requester: { req.requesterId.substring(0, 8) }... < /p> <\r\n                                                            p className = \"text-xs text-gray-400\" > Created: { req.createdAt ? new Date(req.createdAt.toDate()).toLocaleString() : 'N/A' } < /p> <\r\n                                                            /div> <\r\n                                                            span className = \"text-xs text-gray-500\" > { req.region }\r\n                                                            / {req.zone}</span >\r\n                                                            <\r\n                                                            /div>\r\n                                                        ))\r\n                                                    )\r\n                                                } <\r\n                                                /div> <\r\n                                                /div>\r\n\r\n                                                {\r\n                                                    selectedRequest && ( <\r\n                                                        div className = \"bg-gray-800 p-6 rounded-xl shadow-lg mt-8\" >\r\n                                                        <\r\n                                                        h3 className = \"text-xl font-bold mb-4\" > Request Details < /h3> <\r\n                                                        div className = \"bg-gray-700 p-6 rounded-lg space-y-4\" >\r\n                                                        <\r\n                                                        h4 className = \"text-xl font-bold text-indigo-300\" > { selectedRequest.subject } < /h4> <\r\n                                                        p className = \"text-gray-300 text-sm\" > { selectedRequest.description } < /p> <\r\n                                                        div className = \"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0 text-sm\" >\r\n                                                        <\r\n                                                        span className = \"text-gray-400\" > Region: < span className = \"font-semibold text-white\" > { selectedRequest.region } < /span></span >\r\n                                                        <\r\n                                                        span className = \"text-gray-400\" > Zone: < span className = \"font-semibold text-white\" > { selectedRequest.zone } < /span></span >\r\n                                                        <\r\n                                                        span className = \"text-gray-400\" > Warehouse: < span className = \"font-semibold text-white\" > { selectedRequest.warehouse } < /span></span >\r\n                                                        <\r\n                                                        /div> <\r\n                                                        div className = \"flex space-x-4 mt-4\" >\r\n                                                        <\r\n                                                        button onClick = {\r\n                                                            () => handleStatusChange('approved') }\r\n                                                        disabled = { isProcessing }\r\n                                                        className = \"flex-1 py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:bg-green-400\" >\r\n                                                        { isProcessing ? 'Processing...' : 'Approve' } <\r\n                                                        /button> <\r\n                                                        button onClick = {\r\n                                                            () => handleStatusChange('rejected') }\r\n                                                        disabled = { isProcessing }\r\n                                                        className = \"flex-1 py-2 px-4 rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:bg-red-400\" >\r\n                                                        { isProcessing ? 'Processing...' : 'Reject' } <\r\n                                                        /button> <\r\n                                                        /div> <\r\n                                                        /div> <\r\n                                                        /div>\r\n                                                    )\r\n                                                } <\r\n                                                /div>\r\n                                            );\r\n                                        };\r\n\r\n                                        const FarmerDashboard = () => ( <\r\n                                            >\r\n                                            <\r\n                                            h2 className = \"text-2xl font-bold text-gray-200 text-center my-8\" > Welcome, Farmer < /h2> <\r\n                                            NewRequestForm / >\r\n                                            <\r\n                                            />\r\n                                        );\r\n\r\n                                        const Login = ({ onLogin }) => {\r\n                                                const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n                                                const onSubmit = (data) => {\r\n                                                    onLogin(data.email, data.password);\r\n                                                };\r\n\r\n                                                return ( <\r\n                                                    div className = \"flex items-center justify-center min-h-screen bg-gray-900\" >\r\n                                                    <\r\n                                                    div className = \"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-xl shadow-lg text-white\" >\r\n                                                    <\r\n                                                    div className = \"text-center\" >\r\n                                                    <\r\n                                                    FaSeedling className = \"mx-auto h-12 w-auto text-indigo-500\" / >\r\n                                                    <\r\n                                                    h2 className = \"mt-6 text-3xl font-extrabold text-white\" >\r\n                                                    Sign in to your account <\r\n                                                    /h2> <\r\n                                                    p className = \"mt-2 text-sm text-gray-400\" >\r\n                                                    Use the hardcoded credentials to test. <\r\n                                                    /p> <\r\n                                                    /div> <\r\n                                                    form className = \"mt-8 space-y-6\"\r\n                                                    onSubmit = { handleSubmit(onSubmit) } >\r\n                                                    <\r\n                                                    div >\r\n                                                    <\r\n                                                    label htmlFor = \"email\"\r\n                                                    className = \"sr-only\" > Email address < /label> <\r\n                                                    input id = \"email\"\r\n                                                    name = \"email\"\r\n                                                    type = \"email\" {...register('email', { required: 'Email is required' }) }\r\n                                                    className = \"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 placeholder-gray-400 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                                                    placeholder = \"Email address\" /\r\n                                                    > {\r\n                                                        errors.email && < p className = \"mt-2 text-sm text-red-500\" > { errors.email.message } < /p>} <\r\n                                                        /div> <\r\n                                                        div >\r\n                                                        <\r\n                                                        label htmlFor = \"password\"\r\n                                                        className = \"sr-only\" > Password < /label> <\r\n                                                        input\r\n                                                        id = \"password\"\r\n                                                        name = \"password\"\r\n                                                        type = \"password\" {...register('password', { required: 'Password is required' }) }\r\n                                                        className = \"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-700 bg-gray-700 placeholder-gray-400 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\r\n                                                        placeholder = \"Password\" /\r\n                                                        > {\r\n                                                            errors.password && < p className = \"mt-2 text-sm text-red-500\" > { errors.password.message } < /p>} <\r\n                                                            /div> <\r\n                                                            div >\r\n                                                            <\r\n                                                            button\r\n                                                            type = \"submit\"\r\n                                                            className = \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\" >\r\n                                                            <\r\n                                                            span className = \"absolute left-0 inset-y-0 flex items-center pl-3\" >\r\n                                                            <\r\n                                                            FaUser className = \"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\" / >\r\n                                                            <\r\n                                                            /span>\r\n                                                            Sign in\r\n                                                            <\r\n                                                            /button> <\r\n                                                            /div> <\r\n                                                            /form> <\r\n                                                            /div> <\r\n                                                            /div>\r\n                                                        );\r\n                                                    };\r\n\r\n                                                    const renderDashboard = () => {\r\n                                                        if (!currentUser) {\r\n                                                            return <Login onLogin = { handleLogin }\r\n                                                            />;\r\n                                                        }\r\n\r\n                                                        switch (userRole) {\r\n                                                            case 'admin':\r\n                                                            case 'manager':\r\n                                                                return <AdminManagerDashboard / > ;\r\n                                                            case 'farmer':\r\n                                                                return <FarmerDashboard / > ;\r\n                                                            default:\r\n                                                                return <p className = \"text-center text-white\" > Something went wrong. < /p>;\r\n                                                        }\r\n                                                    };\r\n\r\n                                                    if (!authReady) {\r\n                                                        return ( <\r\n                                                            div className = \"flex items-center justify-center h-screen bg-gray-900 text-white\" >\r\n                                                            <\r\n                                                            div className = \"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500\" > < /div> <\r\n                                                            /div>\r\n                                                        );\r\n                                                    }\r\n\r\n                                                    return ( <\r\n                                                        div className = \"bg-gray-900 min-h-screen font-[Inter]\" >\r\n                                                        <\r\n                                                        Header userRole = { userRole }\r\n                                                        onLogout = { handleLogout }\r\n                                                        /> <\r\n                                                        main className = \"container mx-auto p-4\" > { renderDashboard() } <\r\n                                                        /main> <\r\n                                                        Modal show = { showModal }\r\n                                                        onClose = {\r\n                                                            () => setShowModal(false) }\r\n                                                        title = \"Notification\"\r\n                                                        message = { modalContent }\r\n                                                        /> <\r\n                                                        /div>\r\n                                                    );\r\n                                                }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}